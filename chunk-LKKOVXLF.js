import{a as W,b as J,c as te}from"./chunk-2KO2KWRA.js";import{a as pe,b as ue}from"./chunk-V5VSAJ64.js";import{a as T}from"./chunk-7RT6VZGU.js";import{a as D,b as c,c as L,d as P,e as I,f as h,g as V,h as H,j as O,k as q,l as R}from"./chunk-PO55DWK7.js";import{b as Z,d as ee,g as N}from"./chunk-SJXXYJ5N.js";import{a as E}from"./chunk-IX6UVRFC.js";import{Ab as A,Da as u,Fa as m,Ha as a,Ia as t,Ja as d,Ka as j,La as Q,Ma as k,Na as s,Oa as p,Pa as r,Qa as F,Ra as $,T as _,Ua as y,V as b,aa as se,ba as v,c as x,ca as C,ja as B,ob as z,pa as U,pb as M,qb as S,sa as l}from"./chunk-BHPNAPCX.js";function Te(n,g){n&1&&(a(0,"button",11),d(1,"img",12),t())}var ge=(()=>{class n{areaSelectedEvent=new B;areaItem;isAdmin;link=["/","home","inventory","categories"];_areaService=_(W);_router=_(ee);setAreaSelected(i){i&&this.areaSelectedEvent.emit(i)}navigate(){this.areaItem&&this._router.navigate([...this.link,this.areaItem._id])}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-area-card"]],inputs:{areaItem:"areaItem",isAdmin:"isAdmin"},outputs:{areaSelectedEvent:"areaSelectedEvent"},standalone:!0,features:[y],decls:12,vars:3,consts:[[1,"card","border-dark","mt-3"],[1,"card-header","h6","text-center"],[1,"card-body"],["alt","",1,"img-fluid",3,"src"],[1,"card-footer"],[1,"d-flex","justify-content-between",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalShowArea","type","button","title","Informaci\xF3n",1,"btn"],["src","assets/icons/information.svg","alt","Informaci\xF3n",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalUpdateArea","type","button","class","btn","title","Modificar",4,"ngIf"],["type","button","title","Ingresar",1,"btn",3,"click"],["src","assets/icons/show.svg","alt","Ingresar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalUpdateArea","type","button","title","Modificar",1,"btn"],["src","assets/icons/edit.svg","alt","Editar",1,"icon"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"p",1),r(2),t(),a(3,"div",2),d(4,"img",3),t(),a(5,"div",4)(6,"div",5),s("click",function(){return e.setAreaSelected(e.areaItem)}),a(7,"button",6),d(8,"img",7),t(),u(9,Te,2,0,"button",8),a(10,"button",9),s("click",function(){return e.navigate()}),d(11,"img",10),t()()()()),o&2&&(l(2),F(e.areaItem==null?null:e.areaItem.name),l(2),m("src",e.areaItem==null?null:e.areaItem.src,U),l(5),m("ngIf",e.isAdmin))},dependencies:[S],styles:[".icon[_ngcontent-%COMP%]{width:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function De(n,g){if(n&1){let i=k();a(0,"div",2)(1,"app-area-card",3),s("areaSelectedEvent",function(e){v(i);let f=p();return C(f.setAreaSelected(e))}),t()()}if(n&2){let i=g.$implicit,o=p();l(),m("isAdmin",o.isAdmin)("areaItem",i)}}var fe=(()=>{class n{areaSelectedEvent=new B;areas;isAdmin;setAreaSelected(i){this.areaSelectedEvent.emit(i)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-area-cards"]],inputs:{areas:"areas",isAdmin:"isAdmin"},outputs:{areaSelectedEvent:"areaSelectedEvent"},standalone:!0,features:[y],decls:2,vars:1,consts:[[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3"],[3,"areaSelectedEvent","isAdmin","areaItem"]],template:function(o,e){o&1&&(a(0,"div",0),u(1,De,2,2,"div",1),t()),o&2&&(l(),m("ngForOf",e.areas))},dependencies:[ge,M],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Le(n,g){if(n&1){let i=k();a(0,"img",18),s("click",function(){let e=v(i).$implicit,f=p();return C(f.selectIcon(e))}),t()}if(n&2){let i=g.$implicit,o=p();m("src",i,U)("ngClass",o.iconSelected==i?"selected":"")}}var _e=(()=>{class n{areas;_areaService=_(W);_alertService=_(T);formArea=new I({});iconSelected;iconsArea;ngOnInit(){return x(this,null,function*(){this.formArea=new I({name:new h("",[c.required,c.minLength(1),c.maxLength(100)]),about:new h("",[c.minLength(0),c.maxLength(500)])}),this.iconsArea=yield this._areaService.getIconsArea()})}selectIcon(i){this.iconSelected=i}sendArea(){return x(this,null,function*(){let i={keep:!1,text:"Error al agregar \xE1rea, favor de revisar",type:E.Danger};if(this.formArea.valid&&this.iconSelected&&this.areas){let{name:o,about:e}=this.formArea.value,f={name:o,about:e,src:this.iconSelected,categories:[]};(yield this._areaService.addArea(this.areas,f))&&(this.formArea.reset(),i={keep:!1,text:"\xC1rea agregada con \xE9xito",type:E.Success})}this._alertService.addAlert(i)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-area-add"]],inputs:{areas:"areas"},standalone:!0,features:[y],decls:25,vars:2,consts:[["id","modalAddArea","tabindex","-1","aria-labelledby","modalAddAreaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalAddAreaLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del \xC1rea",1,"form-control"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","\xC1rea encargada de...","rows","5",1,"form-control"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Agregar \xC1rea"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.sendArea()}),a(8,"div",7)(9,"label",8),r(10,"Nombre del \xC1rea"),t(),d(11,"input",9),t(),a(12,"div",7)(13,"label",10),r(14,"Informaci\xF3n sobre el \xC1rea"),t(),d(15,"textarea",11),t(),a(16,"div",7)(17,"div",7)(18,"label",12),r(19,"Imagen de Perfil del \xC1rea"),t(),a(20,"div",13),u(21,Le,1,2,"img",14),t()()()(),a(22,"div",15)(23,"button",16),s("click",function(){return e.sendArea()}),d(24,"img",17),t()()()()()),o&2&&(l(7),m("formGroup",e.formArea),l(14),m("ngForOf",e.iconsArea))},dependencies:[R,V,D,L,P,O,q,M,z],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Pe(n,g){if(n&1){let i=k();a(0,"img",24),s("click",function(){let e=v(i).$implicit,f=p(2);return C(f.selectIcon(e))}),t()}if(n&2){let i=g.$implicit,o=p(2);m("src",i,U)("ngClass",o.iconSelected==i?"selected":"")}}function Ve(n,g){if(n&1&&(a(0,"div",7)(1,"label",21),r(2,"Imagen de Perfil del \xC1rea"),t(),a(3,"div",22),u(4,Pe,1,2,"img",23),t()()),n&2){let i=p();l(4),m("ngForOf",i.iconsArea)}}var he=(()=>{class n{formArea=new I({});editIcon=!1;iconSelected;iconsArea;areas;area;_areaService=_(W);_alertService=_(T);_waitingModalService=_(A);ngOnChanges(i){if(i.area&&this.area){let{name:o,about:e}=this.formArea.controls;o.setValue(this.area.name),e.setValue(this.area.about)}}ngOnInit(){this.formArea=new I({name:new h("",[c.required,c.minLength(1),c.maxLength(100)]),about:new h("",[c.minLength(0),c.maxLength(500)])}),this.iconsArea=this._areaService.getIconsArea()}changeEditIcon(){this.editIcon=!this.editIcon}selectIcon(i){this.iconSelected=i}updateArea(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al modificar \xE1rea, favor de revisar",type:E.Danger};if(this.area){let{name:o,about:e}=this.formArea.value;o&&(this.area.name=o),e&&(this.area.about=e),this.editIcon&&this.iconSelected&&(this.area.src=this.iconSelected),(yield this._areaService.updateArea(this.area))&&(i={keep:!1,text:"\xC1rea modificada con \xE9xito",type:E.Success})}this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}deleteArea(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al eliminar \xC1rea, favor de revisar",type:E.Danger};this.areas&&this.area?._id&&(yield this._areaService.deleteArea(this.areas,this.area._id))&&(i={keep:!1,text:"\xC1rea eliminada con \xE9xito",type:E.Success}),this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-area-edit"]],inputs:{areas:"areas",area:"area"},standalone:!0,features:[se,y],decls:27,vars:4,consts:[["id","modalUpdateArea","tabindex","-1","aria-labelledby","modalUpdateAreaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalUpdateAreaLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del \xC1rea",1,"form-control",3,"value"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","\xC1rea encargada de...","rows","5",1,"form-control",3,"value"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","editIcon",1,"form-check-input",3,"click"],["for","editIcon",1,"form-check-label"],["class","mb-3",4,"ngIf"],[1,"modal-footer","justify-content-between"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-dismiss","modal","type","submit","title","Editar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Editar \xC1rea"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.updateArea()}),a(8,"div",7)(9,"label",8),r(10,"Nombre del \xC1rea"),t(),d(11,"input",9),t(),a(12,"div",7)(13,"label",10),r(14,"Informaci\xF3n sobre el \xC1rea"),t(),d(15,"textarea",11),t(),a(16,"div",7)(17,"div",12)(18,"input",13),s("click",function(){return e.changeEditIcon()}),t(),a(19,"label",14),r(20,"\xBFCambiar imagen de perfil del \xE1rea?"),t()()(),u(21,Ve,5,1,"div",15),t(),a(22,"div",16)(23,"button",17),s("click",function(){return e.deleteArea()}),d(24,"img",18),t(),a(25,"button",19),s("click",function(){return e.updateArea()}),d(26,"img",20),t()()()()()),o&2&&(l(7),m("formGroup",e.formArea),l(4),m("value",e.area==null?null:e.area.name),l(4),m("value",e.area==null?null:e.area.about),l(6),m("ngIf",e.editIcon))},dependencies:[R,V,D,L,P,O,q,S,M,z],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Oe(n,g){if(n&1&&(a(0,"div",7)(1,"label",11),r(2,"Informaci\xF3n sobre el \xC1rea"),t(),a(3,"p",12),r(4),t()()),n&2){let i=p();l(4),$(" ",i.area==null?null:i.area.about," ")}}var ve=(()=>{class n{area;static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-area-show"]],inputs:{area:"area"},standalone:!0,features:[y],decls:14,vars:2,consts:[["id","modalShowArea","tabindex","-1","aria-labelledby","modalShowAreaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalShowAreaLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"fw-bold"],["id","name"],["class","mb-3",4,"ngIf"],["for","about",1,"form-label","fw-bold"],["id","about"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Informaci\xF3n del \xC1rea"),t(),d(6,"button",5),t(),a(7,"div",6)(8,"div",7)(9,"label",8),r(10,"Nombre del \xC1rea"),t(),a(11,"p",9),r(12),t()(),u(13,Oe,5,1,"div",10),t()()()()),o&2&&(l(12),$(" ",e.area==null?null:e.area.name," "),l(),m("ngIf",e.area==null?null:e.area.about))},dependencies:[S]})}return n})();function qe(n,g){n&1&&(a(0,"button",10),d(1,"img",11),t())}var Ce=(()=>{class n{areaSelected;areas;_areaService=_(W);_sessionService=_(N);_waitingModalService=_(A);ngOnInit(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0),this.areas=yield this._areaService.getAreas(),this._waitingModalService.setIsWaiting(!1)})}setAreaSelected(i){this.areaSelected=i}isAdmin(){return this._sessionService.isAdmin()}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-areas-page"]],standalone:!0,features:[y],decls:14,vars:8,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"title","fw-bold"],[1,"row"],["data-bs-toggle","modal","data-bs-target","#modalAddArea","class","btn mt-4 mb-2",4,"ngIf"],[3,"areaSelectedEvent","isAdmin","areas"],[3,"areas"],[3,"area"],[3,"area","areas"],["data-bs-toggle","modal","data-bs-target","#modalAddArea",1,"btn","mt-4","mb-2"],["src","assets/icons/add.svg","alt","Agregar \xC1rea","title","Agregar \xC1rea",1,"icon"]],template:function(o,e){o&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),r(4,"\xC1reas"),t()()(),a(5,"div",1)(6,"div",4)(7,"div",1),u(8,qe,2,0,"button",5),t(),a(9,"div",1)(10,"app-area-cards",6),s("areaSelectedEvent",function(G){return e.setAreaSelected(G)}),t()()()()(),d(11,"app-area-add",7)(12,"app-area-show",8)(13,"app-area-edit",9)),o&2&&(l(8),m("ngIf",e.isAdmin()),l(2),m("isAdmin",e.isAdmin())("areas",e.areas),l(),m("areas",e.areas)("areas",e.areas),l(),m("area",e.areaSelected),l(),m("area",e.areaSelected)("areas",e.areas))},dependencies:[fe,_e,ve,he,S],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Re(n,g){n&1&&(a(0,"button",11),d(1,"img",12),t())}var be=(()=>{class n{categorySelectedEvent=new B;area;category;link=["/","home","inventory","items"];_sessionService=_(N);_router=_(ee);isAdmin(){return this._sessionService.isAdmin()}setCategorySelected(i){i&&this.categorySelectedEvent.emit(i)}navigate(){this.area&&this.category&&this._router.navigate([...this.link,this.area._id,this.category._id])}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-category-card"]],inputs:{area:"area",category:"category"},outputs:{categorySelectedEvent:"categorySelectedEvent"},standalone:!0,features:[y],decls:12,vars:3,consts:[[1,"card","border-dark","mt-3"],[1,"card-header","h6","text-center"],[1,"card-body"],["alt","",1,"img-fluid",3,"src"],[1,"card-footer"],[1,"d-flex","justify-content-between",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalShowCategory","type","button","title","Informaci\xF3n",1,"btn"],["src","assets/icons/information.svg","alt","Informaci\xF3n",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalEditCategory","type","button","class","btn","title","Modificar",4,"ngIf"],["type","button","title","Ingresar",1,"btn",3,"click"],["src","assets/icons/show.svg","alt","Ingresar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalEditCategory","type","button","title","Modificar",1,"btn"],["src","assets/icons/edit.svg","alt","Editar",1,"icon"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"p",1),r(2),t(),a(3,"div",2),d(4,"img",3),t(),a(5,"div",4)(6,"div",5),s("click",function(){return e.setCategorySelected(e.category)}),a(7,"button",6),d(8,"img",7),t(),u(9,Re,2,0,"button",8),a(10,"button",9),s("click",function(){return e.navigate()}),d(11,"img",10),t()()()()),o&2&&(l(2),F(e.category==null?null:e.category.name),l(2),m("src",e.category==null?null:e.category.src,U),l(5),m("ngIf",e.isAdmin()))},dependencies:[S],styles:[".icon[_ngcontent-%COMP%]{width:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Ge(n,g){if(n&1){let i=k();a(0,"div",2)(1,"app-category-card",3),s("categorySelectedEvent",function(e){v(i);let f=p();return C(f.setCategorySelected(e))}),t()()}if(n&2){let i=g.$implicit,o=p();l(),m("area",o.area)("category",i)}}var ye=(()=>{class n{categorySelectedEvent=new B;area;categories;setCategorySelected(i){this.categorySelectedEvent.emit(i)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-category-cards"]],inputs:{area:"area",categories:"categories"},outputs:{categorySelectedEvent:"categorySelectedEvent"},standalone:!0,features:[y],decls:2,vars:1,consts:[[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3"],[3,"categorySelectedEvent","area","category"]],template:function(o,e){o&1&&(a(0,"div",0),u(1,Ge,2,2,"div",1),t()),o&2&&(l(),m("ngForOf",e.categories))},dependencies:[be,M]})}return n})();function Be(n,g){if(n&1){let i=k();a(0,"img",18),s("click",function(){let e=v(i).$implicit,f=p();return C(f.selectIcon(e))}),t()}if(n&2){let i=g.$implicit,o=p();m("src",i,U)("ngClass",o.iconSelected==i?"selected":"")}}var Se=(()=>{class n{area;iconSelected;iconsCategories;formCategory=new I({});_categoryService=_(J);_alertService=_(T);_waitingModalService=_(A);ngOnInit(){this.formCategory=new I({name:new h("",[c.required,c.minLength(1),c.maxLength(100)]),about:new h("",[c.minLength(0),c.maxLength(500)])}),this.iconsCategories=this._categoryService.getIconsCategory()}selectIcon(i){this.iconSelected=i}sendCategory(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al agregar Categor\xEDa, favor de revisar",type:E.Danger};if(this.formCategory.valid&&this.iconSelected&&this.area&&this.area._id&&this.iconSelected){let{name:o,about:e}=this.formCategory.value,f={name:o,about:e,src:this.iconSelected,items:[]};(yield this._categoryService.addCategory(this.area._id,this.area.categories,f))&&(this.formCategory.reset(),i={keep:!1,text:"Categor\xEDa agregada con \xE9xito",type:E.Success})}this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-category-add"]],inputs:{area:"area"},standalone:!0,features:[y],decls:25,vars:2,consts:[["id","modalAddCategory","tabindex","-1","aria-labelledby","modalAddCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalAddCategoryLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre de la Categor\xEDa",1,"form-control"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","Categor\xEDa encargada de...","rows","5",1,"form-control"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Agregar Categor\xEDa"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.sendCategory()}),a(8,"div",7)(9,"label",8),r(10,"Nombre de la Categor\xEDa"),t(),d(11,"input",9),t(),a(12,"div",7)(13,"label",10),r(14,"Informaci\xF3n sobre la Categor\xEDa"),t(),d(15,"textarea",11),t(),a(16,"div",7)(17,"div",7)(18,"label",12),r(19,"Imagen de Perfil de la Categor\xEDa"),t(),a(20,"div",13),u(21,Be,1,2,"img",14),t()()()(),a(22,"div",15)(23,"button",16),s("click",function(){return e.sendCategory()}),d(24,"img",17),t()()()()()),o&2&&(l(7),m("formGroup",e.formCategory),l(14),m("ngForOf",e.iconsCategories))},dependencies:[R,V,D,L,P,O,q,M,z],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Ue(n,g){if(n&1){let i=k();a(0,"img",24),s("click",function(){let e=v(i).$implicit,f=p(2);return C(f.selectIcon(e))}),t()}if(n&2){let i=g.$implicit,o=p(2);m("src",i,U)("ngClass",o.iconSelected==i?"selected":"")}}function We(n,g){if(n&1&&(a(0,"div",7)(1,"label",21),r(2,"Imagen de Perfil de la Categor\xEDa"),t(),a(3,"div",22),u(4,Ue,1,2,"img",23),t()()),n&2){let i=p();l(4),m("ngForOf",i.iconsCategories)}}var Ee=(()=>{class n{formCategory=new I({});editIcon=!1;iconSelected;iconsCategories;area;category;_categoryService=_(J);_alertService=_(T);_waitingModalService=_(A);ngOnInit(){this.formCategory=new I({name:new h("",[c.required,c.minLength(1),c.maxLength(100)]),about:new h("",[c.minLength(0),c.maxLength(500)])}),this.iconsCategories=this._categoryService.getIconsCategory()}changeEditIcon(){this.editIcon=!this.editIcon}selectIcon(i){this.iconSelected=i}updateCategory(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al modificar la Categor\xEDa, favor de revisar",type:E.Danger};if(this.category){let{name:o,about:e}=this.formCategory.value;o&&(this.category.name=o),e&&(this.category.about=e),this.editIcon&&this.iconSelected&&(this.category.src=this.iconSelected),(yield this._categoryService.updateCategory(this.category))&&(i={keep:!1,text:"Categor\xEDa modificada con \xE9xito",type:E.Success})}this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}deleteCategory(){return x(this,null,function*(){let i={keep:!1,text:"Error al eliminar Categor\xEDa, favor de revisar",type:E.Danger};this.area&&this.category?._id&&(yield this._categoryService.deleteCategory(this.area.categories,this.category._id))&&(i={keep:!1,text:"Categor\xEDa eliminada con \xE9xito",type:E.Success}),this._alertService.addAlert(i)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-category-edit"]],inputs:{area:"area",category:"category"},standalone:!0,features:[y],decls:27,vars:4,consts:[["id","modalEditCategory","tabindex","-1","aria-labelledby","modalEditCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalEditCategoryLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del \xC1rea",1,"form-control",3,"value"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","\xC1rea encargada de...","rows","5",1,"form-control",3,"value"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","editIcon",1,"form-check-input",3,"click"],["for","editIcon",1,"form-check-label"],["class","mb-3",4,"ngIf"],[1,"modal-footer","justify-content-between"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-dismiss","modal","type","submit","title","Editar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Editar Categor\xEDa"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.updateCategory()}),a(8,"div",7)(9,"label",8),r(10,"Nombre del \xC1rea"),t(),d(11,"input",9),t(),a(12,"div",7)(13,"label",10),r(14,"Informaci\xF3n sobre la Categor\xEDa"),t(),d(15,"textarea",11),t(),a(16,"div",7)(17,"div",12)(18,"input",13),s("click",function(){return e.changeEditIcon()}),t(),a(19,"label",14),r(20,"\xBFCambiar imagen de perfil de la categor\xEDa?"),t()()(),u(21,We,5,1,"div",15),t(),a(22,"div",16)(23,"button",17),s("click",function(){return e.deleteCategory()}),d(24,"img",18),t(),a(25,"button",19),s("click",function(){return e.updateCategory()}),d(26,"img",20),t()()()()()),o&2&&(l(7),m("formGroup",e.formCategory),l(4),m("value",e.category==null?null:e.category.name),l(4),m("value",e.category==null?null:e.category.about),l(6),m("ngIf",e.editIcon))},dependencies:[R,V,D,L,P,O,q,S,M,z],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function je(n,g){if(n&1&&(a(0,"div",7)(1,"label",11),r(2,"Informaci\xF3n sobre el \xC1rea:"),t(),a(3,"p",12),r(4),t()()),n&2){let i=p();l(4),$(" ",i.category==null?null:i.category.about," ")}}var xe=(()=>{class n{category;static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-category-show"]],inputs:{category:"category"},standalone:!0,features:[y],decls:14,vars:2,consts:[["id","modalShowCategory","tabindex","-1","aria-labelledby","modalShowCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalShowCategoryLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"fw-bold"],["id","name"],["class","mb-3",4,"ngIf"],["for","about",1,"form-label","fw-bold"],["id","about"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Informaci\xF3n de la Categor\xEDa"),t(),d(6,"button",5),t(),a(7,"div",6)(8,"div",7)(9,"label",8),r(10,"Nombre de la Categor\xEDa:"),t(),a(11,"p",9),r(12),t()(),u(13,je,5,1,"div",10),t()()()()),o&2&&(l(12),$(" ",e.category==null?null:e.category.name," "),l(),m("ngIf",e.category==null?null:e.category.about))},dependencies:[S]})}return n})();function Qe(n,g){n&1&&(a(0,"button",11),d(1,"img",12),t())}function ze(n,g){if(n&1&&d(0,"app-category-add",13),n&2){let i=p();m("area",i.area)}}function $e(n,g){if(n&1&&d(0,"app-category-edit",14),n&2){let i=p();m("area",i.area)("category",i.categorySelected)}}var ke=(()=>{class n{area;categorySelected;categories;_sessionService=_(N);_activatedRoute=_(Z);_areasService=_(W);_waitingModalService=_(A);isAdmin(){return this._sessionService.isAdmin()}ngOnInit(){this._activatedRoute.paramMap.subscribe(i=>x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let o=""+i.get("area_id");this.area=yield this._areasService.getArea(o),this.categories=this.area?.categories,this._waitingModalService.setIsWaiting(!1)}))}setCategorySelected(i){this.categorySelected=i}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-categories-page"]],standalone:!0,features:[y],decls:16,vars:7,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"h4","fw-bold"],[1,"title","fw-bold"],[1,"row"],["data-bs-toggle","modal","data-bs-target","#modalAddCategory","class","btn mt-4 mb-2",4,"ngIf"],[3,"categorySelectedEvent","area","categories"],[3,"area",4,"ngIf"],[3,"area","category",4,"ngIf"],[3,"category"],["data-bs-toggle","modal","data-bs-target","#modalAddCategory",1,"btn","mt-4","mb-2"],["src","assets/icons/add.svg","alt","Agregar Categor\xEDa","title","Agregar Categor\xEDa",1,"icon"],[3,"area"],[3,"area","category"]],template:function(o,e){o&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),r(4),t(),a(5,"p",4),r(6,"Categor\xEDas"),t()()(),a(7,"div",1)(8,"div",5)(9,"div",1),u(10,Qe,2,0,"button",6),t(),a(11,"div",1)(12,"app-category-cards",7),s("categorySelectedEvent",function(G){return e.setCategorySelected(G)}),t()()()()(),u(13,ze,1,1,"app-category-add",8)(14,$e,1,2,"app-category-edit",9),d(15,"app-category-show",10)),o&2&&(l(4),F(e.area==null?null:e.area.name),l(6),m("ngIf",e.isAdmin()),l(2),m("area",e.area)("categories",e.categories),l(),m("ngIf",e.isAdmin()),l(),m("ngIf",e.isAdmin()),l(),m("category",e.categorySelected))},dependencies:[ye,Se,Ee,xe,S],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function He(n,g){n&1&&(a(0,"button",11),d(1,"img",12),t())}function Je(n,g){n&1&&(a(0,"button",13),d(1,"img",14),t())}var Ie=(()=>{class n{itemSelectedEvent=new B;item;_sessionService=_(N);isAdmin(){return this._sessionService.isAdmin()}isGuest(){return this._sessionService.isGuest()}setItemSelected(i){i&&this.itemSelectedEvent.emit(i)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-item-card"]],inputs:{item:"item"},outputs:{itemSelectedEvent:"itemSelectedEvent"},standalone:!0,features:[y],decls:13,vars:4,consts:[[1,"card","border-dark","mt-3"],[1,"card-header","h6","text-center"],[1,"card-body"],[1,"row","justify-content-center"],["type","button",1,"col-10","col-md-6","col-lg-4","btn","btn-dark","fw-bold"],[1,"card-footer"],[1,"d-flex","justify-content-between",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalShow","type","button","title","Informaci\xF3n",1,"btn"],["src","assets/icons/information.svg","alt","Informaci\xF3n",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalEdit","type","button","class","btn","title","Modificar",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#modalRequest","type","button","class","btn","title","Solicitar",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#modalEdit","type","button","title","Modificar",1,"btn"],["src","assets/icons/edit.svg","alt","Editar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalRequest","type","button","title","Solicitar",1,"btn"],["src","assets/icons/show.svg","alt","Solicitar",1,"icon"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"p",1),r(2),t(),a(3,"div",2)(4,"div",3)(5,"button",4),r(6),t()()(),a(7,"div",5)(8,"div",6),s("click",function(){return e.setItemSelected(e.item)}),a(9,"button",7),d(10,"img",8),t(),u(11,He,2,0,"button",9)(12,Je,2,0,"button",10),t()()()),o&2&&(l(2),F(e.item==null?null:e.item.name),l(4),F(e.item!=null&&e.item.brand?e.item==null?null:e.item.brand:e.item==null?null:e.item.model),l(5),m("ngIf",e.isAdmin()),l(),m("ngIf",!e.isGuest()))},dependencies:[S],styles:[".icon[_ngcontent-%COMP%]{width:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Ke(n,g){n&1&&(a(0,"button",3),d(1,"img",4),t())}function Xe(n,g){if(n&1){let i=k();a(0,"div",5)(1,"app-item-card",6),s("itemSelectedEvent",function(e){v(i);let f=p();return C(f.setItemSelected(e))}),t()()}if(n&2){let i=g.$implicit;l(),m("item",i)}}var we=(()=>{class n{itemSelectedEvent=new B;area;category;items;_sessionService=_(N);isAdmin(){return this._sessionService.isAdmin()}setItemSelected(i){this.itemSelectedEvent.emit(i)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-item-cards"]],inputs:{area:"area",category:"category",items:"items"},outputs:{itemSelectedEvent:"itemSelectedEvent"},standalone:!0,features:[y],decls:3,vars:2,consts:[["data-bs-toggle","modal","data-bs-target","#modalAdd","class","btn mt-4 mb-2",4,"ngIf"],[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#modalAdd",1,"btn","mt-4","mb-2"],["src","assets/icons/add.svg","alt","Agregar Item","title","Agregar Item",1,"icon"],[1,"col-6","col-md-4","col-lg-3"],[3,"itemSelectedEvent","item"]],template:function(o,e){o&1&&(u(0,Ke,2,0,"button",0),a(1,"div",1),u(2,Xe,2,1,"div",2),t()),o&2&&(m("ngIf",e.isAdmin()),l(2),m("ngForOf",e.items))},dependencies:[Ie,M,S],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Ye(n,g){n&1&&(a(0,"div",10)(1,"label",20),r(2,"Marca del item"),t(),d(3,"input",21),t())}function Ze(n,g){n&1&&(a(0,"div",10)(1,"label",34),r(2,"Modelo del item"),t(),d(3,"input",35),t())}function et(n,g){n&1&&(a(0,"div",10)(1,"label",36),r(2,"N\xFAmero de serie del item"),t(),d(3,"input",37),t())}function tt(n,g){n&1&&(a(0,"div",10)(1,"label",38),r(2,"N\xFAmero de inventario del item"),t(),d(3,"input",39),t())}function it(n,g){n&1&&(a(0,"div",10)(1,"label",40),r(2,"NUI del item"),t(),d(3,"input",41),t())}function nt(n,g){n&1&&(a(0,"div",10)(1,"label",42),r(2,"Ubicaci\xF3n del item"),t(),d(3,"input",43),t())}function at(n,g){n&1&&(a(0,"div",10)(1,"label",44),r(2,"Encargado del item"),t(),d(3,"input",45),t())}function ot(n,g){if(n&1){let i=k();j(0),a(1,"div",7)(2,"input",22),s("change",function(){v(i);let e=p();return C(e.isModelChecked=!e.isModelChecked)}),t(),a(3,"label",23),r(4,"\xBFAgregar modelo?"),t()(),u(5,Ze,4,0,"div",15),a(6,"div",7)(7,"input",24),s("change",function(){v(i);let e=p();return C(e.isSerialChecked=!e.isSerialChecked)}),t(),a(8,"label",25),r(9,"\xBFAgregar n\xFAmero de serie?"),t()(),u(10,et,4,0,"div",15),a(11,"div",7)(12,"input",26),s("change",function(){v(i);let e=p();return C(e.isInventoryChecked=!e.isInventoryChecked)}),t(),a(13,"label",27),r(14,"\xBFAgregar n\xFAmero de inventario?"),t()(),u(15,tt,4,0,"div",15),a(16,"div",7)(17,"input",28),s("change",function(){v(i);let e=p();return C(e.isNUIChecked=!e.isNUIChecked)}),t(),a(18,"label",29),r(19,"\xBFAgregar NUI de item?"),t()(),u(20,it,4,0,"div",15),a(21,"div",7)(22,"input",30),s("change",function(){v(i);let e=p();return C(e.isLocationChecked=!e.isLocationChecked)}),t(),a(23,"label",31),r(24,"\xBFAgregar ubicaci\xF3n de item?"),t()(),u(25,nt,4,0,"div",15),a(26,"div",7)(27,"input",32),s("change",function(){v(i);let e=p();return C(e.isManagerChecked=!e.isManagerChecked)}),t(),a(28,"label",33),r(29,"\xBFAgregar encargado de item?"),t()(),u(30,at,4,0,"div",15),Q()}if(n&2){let i=p();l(5),m("ngIf",i.isModelChecked),l(5),m("ngIf",i.isSerialChecked),l(5),m("ngIf",i.isInventoryChecked),l(5),m("ngIf",i.isNUIChecked),l(5),m("ngIf",i.isLocationChecked),l(5),m("ngIf",i.isManagerChecked)}}function rt(n,g){n&1&&(a(0,"div",10)(1,"label",58),r(2,"Stock del item"),t(),d(3,"input",59),t())}function lt(n,g){n&1&&(a(0,"div",10)(1,"label",60),r(2,"Formula del item"),t(),d(3,"input",61),t())}function mt(n,g){n&1&&(a(0,"div",10)(1,"label",62),r(2,"Presentaci\xF3n del item"),t(),d(3,"input",63),t())}function dt(n,g){n&1&&(a(0,"div",10)(1,"label",64),r(2,"Lote del item"),t(),d(3,"input",65),t())}function ct(n,g){n&1&&(a(0,"div",10)(1,"label",66),r(2,"Fecha de caducidad item"),t(),d(3,"input",67),t())}function st(n,g){n&1&&(a(0,"div",10)(1,"label",68),r(2,"Cantidad por unidad del item"),t(),d(3,"input",69),t())}function pt(n,g){if(n&1){let i=k();j(0),a(1,"div",7)(2,"input",46),s("change",function(){v(i);let e=p();return C(e.isStockChecked=!e.isStockChecked)}),t(),a(3,"label",47),r(4,"\xBFAgregar stock?"),t()(),u(5,rt,4,0,"div",15),a(6,"div",7)(7,"input",48),s("change",function(){v(i);let e=p();return C(e.isFormulaChecked=!e.isFormulaChecked)}),t(),a(8,"label",49),r(9,"\xBFAgregar formula?"),t()(),u(10,lt,4,0,"div",15),a(11,"div",7)(12,"input",50),s("change",function(){v(i);let e=p();return C(e.isPresentationChecked=!e.isPresentationChecked)}),t(),a(13,"label",51),r(14,"\xBFAgregar presentaci\xF3n?"),t()(),u(15,mt,4,0,"div",15),a(16,"div",7)(17,"input",52),s("change",function(){v(i);let e=p();return C(e.isLotChecked=!e.isLotChecked)}),t(),a(18,"label",53),r(19,"\xBFAgregar lote?"),t()(),u(20,dt,4,0,"div",15),a(21,"div",7)(22,"input",54),s("change",function(){v(i);let e=p();return C(e.isExpirationDateChecked=!e.isExpirationDateChecked)}),t(),a(23,"label",55),r(24,"\xBFAgregar fecha de caducidad?"),t()(),u(25,ct,4,0,"div",15),a(26,"div",7)(27,"input",56),s("change",function(){v(i);let e=p();return C(e.isQuantityChecked=!e.isQuantityChecked)}),t(),a(28,"label",57),r(29,"\xBFAgregar cantidad por unidad?"),t()(),u(30,st,4,0,"div",15),Q()}if(n&2){let i=p();l(5),m("ngIf",i.isStockChecked),l(5),m("ngIf",i.isFormulaChecked),l(5),m("ngIf",i.isPresentationChecked),l(5),m("ngIf",i.isLotChecked),l(5),m("ngIf",i.isExpirationDateChecked),l(5),m("ngIf",i.isQuantityChecked)}}var Ae=(()=>{class n{category;formItem=new I({});isEquipment=!0;isBrandChecked=!1;isInventoryChecked=!1;isModelChecked=!1;isSerialChecked=!1;isNUIChecked=!1;isLocationChecked=!1;isManagerChecked=!1;isStockChecked=!1;isFormulaChecked=!1;isPresentationChecked=!1;isLotChecked=!1;isExpirationDateChecked=!1;isQuantityChecked=!1;_itemService=_(te);_alertService=_(T);_waitingModalService=_(A);ngOnInit(){this.formItem=new I({name:new h("",[c.required,c.minLength(1),c.maxLength(100)]),brand:new h("",[c.minLength(1),c.maxLength(100)]),model:new h("",[c.minLength(1),c.maxLength(100)]),serial:new h("",[c.minLength(1),c.maxLength(100)]),inventory:new h("",[c.minLength(1),c.maxLength(100)]),nui:new h("",[c.minLength(1),c.maxLength(100)]),location:new h("",[c.minLength(1),c.maxLength(100)]),manager:new h("",[c.minLength(1),c.maxLength(100)]),stock:new h("",[c.min(1)]),formula:new h("",[c.minLength(1),c.maxLength(100)]),presentation:new h("",[c.minLength(1),c.maxLength(100)]),lot:new h("",[c.minLength(1),c.maxLength(100)]),expirationDate:new h("",[]),quantity:new h("",[c.min(0)])})}sendItem(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al agregar item, favor de revisar",type:E.Danger};if(this.formItem.valid&&this.category&&this.category._id){let{name:o,brand:e,model:f,serial:G,inventory:X,nui:Y,location:ie,manager:ne,stock:ae,formula:oe,presentation:re,lot:le,expirationDate:me,quantity:de}=this.formItem.value,ce={name:o,type:this.isEquipment?1:2,brand:e,model:f,serial:G,inventory:X,nui:Y,location:ie,manager:ne,stock:ae,formula:oe,presentation:re,lot:le,expirationDate:me,quantity:de};(yield this._itemService.addItem(this.category._id,this.category.items,ce))&&(this.formItem.reset(),i={keep:!1,text:"Item agregado con \xE9xito",type:E.Success})}this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-item-add"]],inputs:{category:"category"},standalone:!0,features:[y],decls:26,vars:4,consts:[["id","modalAdd","tabindex","-1","aria-labelledby","modalAddLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalAddLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","isEquipment","checked","",1,"form-check-input",3,"change"],["for","isEquipment",1,"form-check-label"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del item",1,"form-control"],["type","checkbox","role","switch","id","addbrand",1,"form-check-input",3,"change"],["for","addbrand",1,"form-check-label"],["class","mb-3",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],["for","brand"],["formControlName","brand","type","text","id","brand","placeholder","Marca del item",1,"form-control"],["type","checkbox","role","switch","id","addmodel",1,"form-check-input",3,"change"],["for","addmodel",1,"form-check-label"],["type","checkbox","role","switch","id","addserial",1,"form-check-input",3,"change"],["for","addserial",1,"form-check-label"],["type","checkbox","role","switch","id","addinventory",1,"form-check-input",3,"change"],["for","addinventory",1,"form-check-label"],["type","checkbox","role","switch","id","addnui",1,"form-check-input",3,"change"],["for","addnui",1,"form-check-label"],["type","checkbox","role","switch","id","addlocation",1,"form-check-input",3,"change"],["for","addlocation",1,"form-check-label"],["type","checkbox","role","switch","id","addmanager",1,"form-check-input",3,"change"],["for","addmanager",1,"form-check-label"],["for","model"],["formControlName","model","type","text","id","model","placeholder","Modelo del item",1,"form-control"],["for","serial"],["formControlName","serial","type","text","id","serial","placeholder","N\xFAmero de serie del item",1,"form-control"],["for","inventory"],["formControlName","inventory","type","text","id","inventory","placeholder","N\xFAmero de inventario del item",1,"form-control"],["for","nui"],["formControlName","nui","type","text","id","nui","placeholder","NUI del item",1,"form-control"],["for","location"],["formControlName","location","type","text","id","location","placeholder","Ubicaci\xF3n del item",1,"form-control"],["for","manager"],["formControlName","manager","type","text","id","manager","placeholder","Encargado del item",1,"form-control"],["type","checkbox","role","switch","id","addStock",1,"form-check-input",3,"change"],["for","addStock",1,"form-check-label"],["type","checkbox","role","switch","id","addFormula",1,"form-check-input",3,"change"],["for","addFormula",1,"form-check-label"],["type","checkbox","role","switch","id","addPresentation",1,"form-check-input",3,"change"],["for","addPresentation",1,"form-check-label"],["type","checkbox","role","switch","id","addLot",1,"form-check-input",3,"change"],["for","addLot",1,"form-check-label"],["type","checkbox","role","switch","id","addExpirationDate",1,"form-check-input",3,"change"],["for","addExpirationDate",1,"form-check-label"],["type","checkbox","role","switch","id","addQuantity",1,"form-check-input",3,"change"],["for","addQuantity",1,"form-check-label"],["for","stock"],["formControlName","stock","type","number","step","1","id","stock","placeholder","Stock del item",1,"form-control"],["for","formula"],["formControlName","formula","type","text","id","formula","placeholder","Formula del item",1,"form-control"],["for","presentation"],["formControlName","presentation","type","text","id","presentation","placeholder","Presentaci\xF3n del item",1,"form-control"],["for","lot"],["formControlName","lot","type","text","id","lot","placeholder","Lote del item",1,"form-control"],["for","expirationDate"],["formControlName","expirationDate","type","date","id","expirationDate","placeholder","Fecha de caducidad item",1,"form-control"],["for","quantity"],["formControlName","quantity","type","number","step","0.01","id","quantity","placeholder","Cantidad por unidad del item",1,"form-control"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Agregar Item"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.sendItem()}),a(8,"div",7)(9,"input",8),s("change",function(){return e.isEquipment=!e.isEquipment}),t(),a(10,"label",9),r(11,"\xBFEs un equipo?"),t()(),a(12,"div",10)(13,"label",11),r(14,"Nombre del item"),t(),d(15,"input",12),t(),a(16,"div",7)(17,"input",13),s("change",function(){return e.isBrandChecked=!e.isBrandChecked}),t(),a(18,"label",14),r(19,"\xBFAgregar marca?"),t()(),u(20,Ye,4,0,"div",15)(21,ot,31,6,"ng-container",16)(22,pt,31,6,"ng-container",16),t(),a(23,"div",17)(24,"button",18),s("click",function(){return e.sendItem()}),d(25,"img",19),t()()()()()),o&2&&(l(7),m("formGroup",e.formItem),l(13),m("ngIf",e.isBrandChecked),l(),m("ngIf",e.isEquipment),l(),m("ngIf",!e.isEquipment))},dependencies:[R,V,D,H,L,P,O,q,S],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function ut(n,g){if(n&1&&(a(0,"div",7)(1,"label",22),r(2,"Marca del item"),t(),d(3,"input",23),t()),n&2){let i=p();l(3),m("value",i.item==null?null:i.item.brand)}}function gt(n,g){if(n&1&&(a(0,"div",7)(1,"label",34),r(2,"Modelo del item"),t(),d(3,"input",35),t()),n&2){let i=p(2);l(3),m("value",i.item==null?null:i.item.model)}}function ft(n,g){if(n&1&&(a(0,"div",7)(1,"label",36),r(2,"N\xFAmero de serie del item"),t(),d(3,"input",37),t()),n&2){let i=p(2);l(3),m("value",i.item==null?null:i.item.serial)}}function _t(n,g){if(n&1&&(a(0,"div",7)(1,"label",38),r(2,"N\xFAmero de inventario del item"),t(),d(3,"input",39),t()),n&2){let i=p(2);l(3),m("value",i.item==null?null:i.item.inventory)}}function ht(n,g){if(n&1&&(a(0,"div",7)(1,"label",40),r(2,"NUI del item"),t(),d(3,"input",41),t()),n&2){let i=p(2);l(3),m("value",i.item==null?null:i.item.nui)}}function vt(n,g){if(n&1&&(a(0,"div",7)(1,"label",42),r(2,"Ubicaci\xF3n del item"),t(),d(3,"input",43),t()),n&2){let i=p(2);l(3),m("value",i.item==null?null:i.item.location)}}function Ct(n,g){if(n&1&&(a(0,"div",7)(1,"label",44),r(2,"Encargado del item"),t(),d(3,"input",45),t()),n&2){let i=p(2);l(3),m("value",i.item==null?null:i.item.manager)}}function bt(n,g){if(n&1){let i=k();j(0),a(1,"div",10)(2,"input",24),s("change",function(){v(i);let e=p();return C(e.isModelChecked=!e.isModelChecked)}),t(),a(3,"label",25),r(4,"\xBFEditar modelo?"),t()(),u(5,gt,4,1,"div",13),a(6,"div",10)(7,"input",26),s("change",function(){v(i);let e=p();return C(e.isSerialChecked=!e.isSerialChecked)}),t(),a(8,"label",27),r(9,"\xBFEditar n\xFAmero de serie?"),t()(),u(10,ft,4,1,"div",13)(11,_t,4,1,"div",13),a(12,"div",10)(13,"input",28),s("change",function(){v(i);let e=p();return C(e.isNUIChecked=!e.isNUIChecked)}),t(),a(14,"label",29),r(15,"\xBFEditar NUI de item?"),t()(),u(16,ht,4,1,"div",13),a(17,"div",10)(18,"input",30),s("change",function(){v(i);let e=p();return C(e.isLocationChecked=!e.isLocationChecked)}),t(),a(19,"label",31),r(20,"\xBFEditar ubicaci\xF3n de item?"),t()(),u(21,vt,4,1,"div",13),a(22,"div",10)(23,"input",32),s("change",function(){v(i);let e=p();return C(e.isManagerChecked=!e.isManagerChecked)}),t(),a(24,"label",33),r(25,"\xBFEditar encargado de item?"),t()(),u(26,Ct,4,1,"div",13),Q()}if(n&2){let i=p();l(5),m("ngIf",i.isModelChecked),l(5),m("ngIf",i.isSerialChecked),l(),m("ngIf",i.isInventoryChecked),l(5),m("ngIf",i.isNUIChecked),l(5),m("ngIf",i.isLocationChecked),l(5),m("ngIf",i.isManagerChecked)}}function yt(n,g){n&1&&(a(0,"div",7)(1,"label",58),r(2,"Stock del item"),t(),d(3,"input",59),t())}function St(n,g){n&1&&(a(0,"div",7)(1,"label",60),r(2,"Formula del item"),t(),d(3,"input",61),t())}function Et(n,g){n&1&&(a(0,"div",7)(1,"label",62),r(2,"Presentaci\xF3n del item"),t(),d(3,"input",63),t())}function xt(n,g){n&1&&(a(0,"div",7)(1,"label",64),r(2,"Lote del item"),t(),d(3,"input",65),t())}function kt(n,g){n&1&&(a(0,"div",7)(1,"label",66),r(2,"Fecha de caducidad item"),t(),d(3,"input",67),t())}function It(n,g){n&1&&(a(0,"div",7)(1,"label",68),r(2,"Cantidad por unidad del item"),t(),d(3,"input",69),t())}function wt(n,g){if(n&1){let i=k();j(0),a(1,"div",10)(2,"input",46),s("change",function(){v(i);let e=p();return C(e.isStockChecked=!e.isStockChecked)}),t(),a(3,"label",47),r(4,"\xBFAgregar stock?"),t()(),u(5,yt,4,0,"div",13),a(6,"div",10)(7,"input",48),s("change",function(){v(i);let e=p();return C(e.isFormulaChecked=!e.isFormulaChecked)}),t(),a(8,"label",49),r(9,"\xBFAgregar formula?"),t()(),u(10,St,4,0,"div",13),a(11,"div",10)(12,"input",50),s("change",function(){v(i);let e=p();return C(e.isPresentationChecked=!e.isPresentationChecked)}),t(),a(13,"label",51),r(14,"\xBFAgregar presentaci\xF3n?"),t()(),u(15,Et,4,0,"div",13),a(16,"div",10)(17,"input",52),s("change",function(){v(i);let e=p();return C(e.isLotChecked=!e.isLotChecked)}),t(),a(18,"label",53),r(19,"\xBFAgregar lote?"),t()(),u(20,xt,4,0,"div",13),a(21,"div",10)(22,"input",54),s("change",function(){v(i);let e=p();return C(e.isExpirationDateChecked=!e.isExpirationDateChecked)}),t(),a(23,"label",55),r(24,"\xBFAgregar fecha de caducidad?"),t()(),u(25,kt,4,0,"div",13),a(26,"div",10)(27,"input",56),s("change",function(){v(i);let e=p();return C(e.isQuantityChecked=!e.isQuantityChecked)}),t(),a(28,"label",57),r(29,"\xBFAgregar cantidad por unidad?"),t()(),u(30,It,4,0,"div",13),Q()}if(n&2){let i=p();l(5),m("ngIf",i.isStockChecked),l(5),m("ngIf",i.isFormulaChecked),l(5),m("ngIf",i.isPresentationChecked),l(5),m("ngIf",i.isLotChecked),l(5),m("ngIf",i.isExpirationDateChecked),l(5),m("ngIf",i.isQuantityChecked)}}var Fe=(()=>{class n{category;item;formItem=new I({});isBrandChecked=!1;isInventoryChecked=!1;isModelChecked=!1;isSerialChecked=!1;isNUIChecked=!1;isLocationChecked=!1;isManagerChecked=!1;isStockChecked=!1;isFormulaChecked=!1;isPresentationChecked=!1;isLotChecked=!1;isExpirationDateChecked=!1;isQuantityChecked=!1;_itemService=_(te);_alertService=_(T);_waitingModalService=_(A);ngOnInit(){this.formItem=new I({name:new h("",[c.minLength(1),c.maxLength(100)]),brand:new h("",[c.minLength(1),c.maxLength(100)]),model:new h("",[c.minLength(1),c.maxLength(100)]),serial:new h("",[c.minLength(1),c.maxLength(100)]),inventory:new h("",[c.minLength(1),c.maxLength(100)]),nui:new h("",[c.minLength(1),c.maxLength(100)]),location:new h("",[c.minLength(1),c.maxLength(100)]),manager:new h("",[c.minLength(1),c.maxLength(100)]),stock:new h("",[c.min(1)]),formula:new h("",[c.minLength(1),c.maxLength(100)]),presentation:new h("",[c.minLength(1),c.maxLength(100)]),lot:new h("",[c.minLength(1),c.maxLength(100)]),expirationDate:new h("",[]),quantity:new h("",[c.min(0)])})}sendItem(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al agregar item, favor de revisar",type:E.Danger};if(this.formItem.valid&&this.category&&this.item&&this.item._id){let{name:o,brand:e,model:f,serial:G,inventory:X,nui:Y,location:ie,manager:ne,stock:ae,formula:oe,presentation:re,lot:le,expirationDate:me,quantity:de}=this.formItem.value;if(o&&(this.item.name=o),this.isBrandChecked&&(this.item.brand=e),this.isModelChecked&&(this.item.model=f),this.isSerialChecked&&(this.item.serial=G),this.isInventoryChecked&&(this.item.inventory=X),this.isNUIChecked&&(this.item.nui=Y),this.isLocationChecked&&(this.item.location=ie),this.isManagerChecked&&(this.item.manager=ne),this.isStockChecked&&(this.item.stock=ae),this.isFormulaChecked&&(this.item.formula=oe),this.isPresentationChecked&&(this.item.presentation=re),this.isLotChecked&&(this.item.lot=le),this.isExpirationDateChecked&&(this.item.expirationDate=me),this.isQuantityChecked&&(this.item.quantity=de),yield this._itemService.updateItem(this.item)){this.formItem.reset();let{name:ce}=this.formItem.controls;ce.setValue(this.item.name),i={keep:!1,text:"Item modificado con \xE9xito",type:E.Success}}}this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}deleteItem(){return x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let i={keep:!1,text:"Error al eliminar item, favor de revisar",type:E.Danger};this.category&&this.item?._id&&(yield this._itemService.deleteItem(this.category,this.item._id))&&(i={keep:!1,text:"item eliminado con \xE9xito",type:E.Success}),this._alertService.addAlert(i),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-item-edit"]],inputs:{category:"category",item:"item"},standalone:!0,features:[y],decls:28,vars:5,consts:[["id","modalEdit","tabindex","-1","aria-labelledby","modalEditLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalEditLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del item",1,"form-control",3,"value"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","addbrand",1,"form-check-input",3,"change"],["for","addbrand",1,"form-check-label"],["class","mb-3",4,"ngIf"],["type","checkbox","role","switch","id","addinventory",1,"form-check-input",3,"change"],["for","addinventory",1,"form-check-label"],[4,"ngIf"],[1,"modal-footer","justify-content-between"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-dismiss","modal","title","Editar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["for","brand"],["formControlName","brand","type","text","id","brand","placeholder","Marca del item",1,"form-control",3,"value"],["type","checkbox","role","switch","id","addmodel",1,"form-check-input",3,"change"],["for","addmodel",1,"form-check-label"],["type","checkbox","role","switch","id","addserial",1,"form-check-input",3,"change"],["for","addserial",1,"form-check-label"],["type","checkbox","role","switch","id","addnui",1,"form-check-input",3,"change"],["for","addnui",1,"form-check-label"],["type","checkbox","role","switch","id","addlocation",1,"form-check-input",3,"change"],["for","addlocation",1,"form-check-label"],["type","checkbox","role","switch","id","addmanager",1,"form-check-input",3,"change"],["for","addmanager",1,"form-check-label"],["for","model"],["formControlName","model","type","text","id","model","placeholder","Modelo del item",1,"form-control",3,"value"],["for","serial"],["formControlName","serial","type","text","id","serial","placeholder","N\xFAmero de serie del item",1,"form-control",3,"value"],["for","inventory"],["formControlName","inventory","type","text","id","inventory","placeholder","N\xFAmero de inventario del item",1,"form-control",3,"value"],["for","nui"],["formControlName","nui","type","text","id","nui","placeholder","NUI del item",1,"form-control",3,"value"],["for","location"],["formControlName","location","type","text","id","location","placeholder","Ubicaci\xF3n del item",1,"form-control",3,"value"],["for","manager"],["formControlName","manager","type","text","id","manager","placeholder","Encargado del item",1,"form-control",3,"value"],["type","checkbox","role","switch","id","addStock",1,"form-check-input",3,"change"],["for","addStock",1,"form-check-label"],["type","checkbox","role","switch","id","addFormula",1,"form-check-input",3,"change"],["for","addFormula",1,"form-check-label"],["type","checkbox","role","switch","id","addPresentation",1,"form-check-input",3,"change"],["for","addPresentation",1,"form-check-label"],["type","checkbox","role","switch","id","addLot",1,"form-check-input",3,"change"],["for","addLot",1,"form-check-label"],["type","checkbox","role","switch","id","addExpirationDate",1,"form-check-input",3,"change"],["for","addExpirationDate",1,"form-check-label"],["type","checkbox","role","switch","id","addQuantity",1,"form-check-input",3,"change"],["for","addQuantity",1,"form-check-label"],["for","stock"],["formControlName","stock","type","number","step","1","id","stock","placeholder","Stock del item",1,"form-control"],["for","formula"],["formControlName","formula","type","text","id","formula","placeholder","Formula del item",1,"form-control"],["for","presentation"],["formControlName","presentation","type","text","id","presentation","placeholder","Presentaci\xF3n del item",1,"form-control"],["for","lot"],["formControlName","lot","type","text","id","lot","placeholder","Lote del item",1,"form-control"],["for","expirationDate"],["formControlName","expirationDate","type","date","id","expirationDate","placeholder","Fecha de caducidad item",1,"form-control"],["for","quantity"],["formControlName","quantity","type","number","step","0.01","id","quantity","placeholder","Cantidad por unidad del item",1,"form-control"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Editar item"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.sendItem()}),a(8,"div",7)(9,"label",8),r(10,"Nombre del item"),t(),d(11,"input",9),t(),a(12,"div",10)(13,"input",11),s("change",function(){return e.isBrandChecked=!e.isBrandChecked}),t(),a(14,"label",12),r(15,"\xBFEditar marca?"),t()(),u(16,ut,4,1,"div",13),a(17,"div",10)(18,"input",14),s("change",function(){return e.isInventoryChecked=!e.isInventoryChecked}),t(),a(19,"label",15),r(20,"\xBFEditar n\xFAmero de inventario?"),t()(),u(21,bt,27,6,"ng-container",16)(22,wt,31,6,"ng-container",16),t(),a(23,"div",17)(24,"button",18),s("click",function(){return e.deleteItem()}),d(25,"img",19),t(),a(26,"button",20),s("click",function(){return e.sendItem()}),d(27,"img",21),t()()()()()),o&2&&(l(7),m("formGroup",e.formItem),l(4),m("value",e.item==null?null:e.item.name),l(5),m("ngIf",e.isBrandChecked),l(5),m("ngIf",(e.item==null?null:e.item.type)==1),l(),m("ngIf",(e.item==null?null:e.item.type)==2))},dependencies:[R,V,D,H,L,P,O,q,S],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function At(n,g){if(n&1){let i=k();a(0,"div",20)(1,"input",21),s("change",function(){v(i);let e=p();return C(e.isUserNameChecked=!e.isUserNameChecked)}),t(),a(2,"label",22),r(3,"\xBFAgregar Nombre?"),t()()}}function Ft(n,g){n&1&&(a(0,"div",9)(1,"label",23),r(2,"Nombre para la solicitud"),t(),d(3,"input",24),t())}function Mt(n,g){n&1&&(j(0),a(1,"div",9)(2,"label",25),r(3,"Fecha de inicio de uso"),t(),d(4,"input",26),t(),a(5,"div",9)(6,"label",27),r(7,"Fecha de finalizaci\xF3n de uso"),t(),d(8,"input",28),t(),Q())}function Nt(n,g){n&1&&(j(0),a(1,"div",9)(2,"label",29),r(3,"Cantidad a solicitar"),t(),d(4,"input",30),t(),Q())}var Me=(()=>{class n{item;_requestService=_(pe);_alertService=_(T);_sessionService=_(N);formRequest=new I({});isUserNameChecked=!1;ngOnInit(){return x(this,null,function*(){this.formRequest=new I({username:new h("",[c.minLength(1),c.maxLength(255)]),name:new h("",[c.minLength(1),c.maxLength(255)]),about:new h("",[c.minLength(1),c.maxLength(255)]),startDate:new h("",[]),endDate:new h("",[this.dateRangeValidator]),quantity:new h("",[c.min(1)])})})}dateRangeValidator(i){let o=i.get("startDate")?.value,e=i.get("endDate")?.value;return!o||!e||e>o?null:{dateRangeInvalid:!0}}isAdmin(){return this._sessionService.isAdmin()}sendRequest(){return x(this,null,function*(){let i={keep:!1,text:"Error al solicitar, favor de revisar",type:E.Danger};if(this.formRequest.valid&&this.item&&this.item._id){let{username:o,about:e,startDate:f,endDate:G,quantity:X}=this.formRequest.value,Y={author:o,about:e,startDate:f,endDate:G,quantity:X};(yield this._requestService.addRequest(Y,this.item._id))&&(this.formRequest.reset(),i={keep:!1,text:"Item solicitado con \xE9xito",type:E.Success})}this._alertService.addAlert(i)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-item-request"]],inputs:{item:"item"},standalone:!0,features:[y],decls:29,vars:7,consts:[["id","modalRequest","tabindex","-1","aria-labelledby","modalRequestLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalRequestLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],["class","form-check form-switch",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["for","id"],["id","id",1,"h6"],["for","name"],["id","name",1,"h6"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","Se solicita para ...","rows","5",1,"form-control"],[4,"ngIf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","addUserName",1,"form-check-input",3,"change"],["for","addUserName",1,"form-check-label"],["for","username"],["formControlName","username","type","text","id","username","placeholder","Usuario para la solicitud",1,"form-control"],["for","startDate",1,"form-label"],["formControlName","startDate","type","datetime-local","id","startDate","placeholder","Fecha de inicio de uso",1,"form-control"],["for","endDate",1,"form-label"],["formControlName","endDate","type","datetime-local","id","endDate","placeholder","Fecha de finalizaci\xF3n de uso",1,"form-control"],["for","quantity",1,"form-label"],["formControlName","quantity","type","number","id","quantity","step","1",1,"form-control"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"Solicitar Equipo"),t(),d(6,"button",5),t(),a(7,"form",6),s("ngSubmit",function(){return e.sendRequest()}),u(8,At,4,0,"div",7)(9,Ft,4,0,"div",8),a(10,"div",9)(11,"label",10),r(12,"ID del Equipo"),t(),a(13,"p",11),r(14),t()(),a(15,"div",9)(16,"label",12),r(17,"Nombre del Equipo"),t(),a(18,"p",13),r(19),t()(),a(20,"div",9)(21,"label",14),r(22,"Informaci\xF3n sobre la solicitud"),t(),d(23,"textarea",15),t(),u(24,Mt,9,0,"ng-container",16)(25,Nt,5,0,"ng-container",16),t(),a(26,"div",17)(27,"button",18),s("click",function(){return e.sendRequest()}),d(28,"img",19),t()()()()()),o&2&&(l(7),m("formGroup",e.formRequest),l(),m("ngIf",e.isAdmin()),l(),m("ngIf",e.isUserNameChecked),l(5),F(e.item==null?null:e.item._id),l(5),F(e.item==null?null:e.item.name),l(5),m("ngIf",(e.item==null?null:e.item.type)==1),l(),m("ngIf",(e.item==null?null:e.item.type)==2))},dependencies:[R,V,D,H,L,P,O,q,S],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Tt(n,g){if(n&1&&d(0,"app-item-add",11),n&2){let i=p();m("category",i.category)}}function Dt(n,g){if(n&1&&d(0,"app-item-edit",12),n&2){let i=p();m("category",i.category)("item",i.itemSelected)}}function Lt(n,g){if(n&1&&d(0,"app-item-request",9),n&2){let i=p();m("item",i.itemSelected)}}var Ne=(()=>{class n{area;category;itemSelected;items;_sessionService=_(N);_activatedRoute=_(Z);_areasService=_(W);_categoriesService=_(J);_waitingModalService=_(A);isAdmin(){return this._sessionService.isAdmin()}isGuest(){return this._sessionService.isGuest()}ngOnInit(){return x(this,null,function*(){this._activatedRoute.paramMap.subscribe(i=>x(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let o=""+i.get("area_id"),e=""+i.get("category_id");this.area=yield this._areasService.getArea(o),this.area&&(this.category=yield this._categoriesService.getCategory(e),this.category&&(this.items=this.category.items)),this._waitingModalService.setIsWaiting(!1)}))})}setItemSelected(i){this.itemSelected=i}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-items-page"]],standalone:!0,features:[y],decls:16,vars:9,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"h4","fw-bold"],[1,"title","fw-bold"],[1,"row"],[3,"itemSelectedEvent","area","category","items"],[3,"category",4,"ngIf"],[3,"category","item",4,"ngIf"],[3,"item"],[3,"item",4,"ngIf"],[3,"category"],[3,"category","item"]],template:function(o,e){o&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),r(4),t(),a(5,"p",3),r(6),t(),a(7,"p",4),r(8,"Inventario"),t()()(),a(9,"div",1)(10,"div",5)(11,"app-item-cards",6),s("itemSelectedEvent",function(G){return e.setItemSelected(G)}),t()()()(),u(12,Tt,1,1,"app-item-add",7)(13,Dt,1,2,"app-item-edit",8),d(14,"app-item-show",9),u(15,Lt,1,1,"app-item-request",10)),o&2&&(l(4),F(e.area==null?null:e.area.name),l(2),F(e.category==null?null:e.category.name),l(5),m("area",e.area)("category",e.category)("items",e.items),l(),m("ngIf",e.isAdmin()),l(),m("ngIf",e.isAdmin()),l(),m("item",e.itemSelected),l(),m("ngIf",!e.isGuest()))},dependencies:[we,Ae,S,Fe,ue,Me],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();var Ka=[{path:"areas",component:Ce},{path:"categories/:area_id",component:ke},{path:"items/:area_id/:category_id",component:Ne},{path:"**",redirectTo:"areas"}];export{Ka as routes};
