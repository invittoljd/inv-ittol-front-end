import{a as _e,b as he}from"./chunk-LXDBTXRH.js";import{a as P}from"./chunk-X56DS3MY.js";import{a as L,b as s,c as V,d as O,e as w,f as h,g as q,h as ee,j as U,k as R,l as G}from"./chunk-DGV2J3K2.js";import{b as ne,d as re,g as D,h as F}from"./chunk-VS5WYRA5.js";import{a as k}from"./chunk-IX6UVRFC.js";import{Da as g,Fa as m,Ha as a,Ia as i,Ja as d,Ka as Q,La as H,Ma as I,N as X,Na as p,Oa as u,Pa as o,Qa as M,Ra as Y,T as _,Ua as S,V as b,aa as fe,ba as C,c as v,ca as y,ja as B,ob as K,p as $,pa as j,pb as T,qb as x,sa as l,vb as Z,zb as J}from"./chunk-MCQ37Y2Z.js";var W=(()=>{class n{apiUrl=`${J.url}/api/inventory/area`;areaModal=-1;http=_(Z);setAreaModal(t){this.areaModal=t}getAreaModal(){return this.areaModal}showError(t,r){J.showErrors&&(console.log("Error en el archivo: area.service.ts"),console.log(t,`
	`,r))}getIconsArea(){return["assets/inventory/area/analytics.svg","assets/inventory/area/atomic.svg","assets/inventory/area/biology.svg","assets/inventory/area/chemical.svg","assets/inventory/area/computer.svg","assets/inventory/area/education.svg","assets/inventory/area/health.svg","assets/inventory/area/industrial.svg","assets/inventory/area/laboratory.svg","assets/inventory/area/math.svg","assets/inventory/area/physic.svg","assets/inventory/area/physicochemical.svg"]}getAreas(){return v(this,null,function*(){try{let t=yield this.http.get(this.apiUrl).toPromise();if(t){let{message:r,areas:e}=t;if(e)return e;this.showError("Error al obtener \xE1reas: ",r)}}catch(t){this.showError("Error al realizar la solicitud:",t)}return[]})}getArea(t){return v(this,null,function*(){try{let r=yield this.http.get(this.apiUrl+"/"+t).toPromise();if(r){let{message:e,area:c}=r;if(c)return c;this.showError("Error al obtener \xE1rea:",e)}}catch(r){this.showError("Error al realizar la solicitud:",r)}})}addArea(t,r){return v(this,null,function*(){try{let e=yield $(this.http.post(this.apiUrl,{area:r}));if(e){let{area:c}=e;if(c)return t.push(c),c;this.showError("Error al crear \xE1rea:",e.message)}}catch(e){this.showError("Error al realizar la solicitud:",e)}})}updateArea(t){return v(this,null,function*(){try{let r=yield $(this.http.put(this.apiUrl+"/"+t._id,{area:t}));if(r){let{message:e,area:c}=r;if(c)return c;this.showError("Error al editar \xE1rea:",e)}}catch(r){this.showError("Error al realizar la solicitud:",r)}})}deleteArea(t,r){return v(this,null,function*(){try{let e=yield this.http.delete(this.apiUrl+"/"+r).toPromise();if(e){let{message:c,area:E}=e;if(E){let N=t.findIndex(z=>z._id===r);return N!==-1&&t.splice(N,1),E}this.showError("Error al eliminar el \xE1rea:",c)}}catch(e){this.showError("Error al realizar la solicitud:",e)}})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ve(n,f){n&1&&(a(0,"button",11),d(1,"img",12),i())}var ve=(()=>{class n{areaSelectedEvent=new B;areaItem;isAdmin;link=["/","home","inventory","categories"];_areaService=_(W);_router=_(re);setAreaSelected(t){t&&this.areaSelectedEvent.emit(t)}navigate(){this.areaItem&&this._router.navigate([...this.link,this.areaItem._id])}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-area-card"]],inputs:{areaItem:"areaItem",isAdmin:"isAdmin"},outputs:{areaSelectedEvent:"areaSelectedEvent"},standalone:!0,features:[S],decls:12,vars:3,consts:[[1,"card","border-dark","mt-3"],[1,"card-header","h6","text-center"],[1,"card-body"],["alt","",1,"img-fluid",3,"src"],[1,"card-footer"],[1,"d-flex","justify-content-between",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalShowArea","type","button","title","Informaci\xF3n",1,"btn"],["src","assets/icons/information.svg","alt","Informaci\xF3n",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalUpdateArea","type","button","class","btn","title","Modificar",4,"ngIf"],["type","button","title","Ingresar",1,"btn",3,"click"],["src","assets/icons/show.svg","alt","Ingresar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalUpdateArea","type","button","title","Modificar",1,"btn"],["src","assets/icons/edit.svg","alt","Editar",1,"icon"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"p",1),o(2),i(),a(3,"div",2),d(4,"img",3),i(),a(5,"div",4)(6,"div",5),p("click",function(){return e.setAreaSelected(e.areaItem)}),a(7,"button",6),d(8,"img",7),i(),g(9,Ve,2,0,"button",8),a(10,"button",9),p("click",function(){return e.navigate()}),d(11,"img",10),i()()()()),r&2&&(l(2),M(e.areaItem==null?null:e.areaItem.name),l(2),m("src",e.areaItem==null?null:e.areaItem.src,j),l(5),m("ngIf",e.isAdmin))},dependencies:[x],styles:[".icon[_ngcontent-%COMP%]{width:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Oe(n,f){if(n&1){let t=I();a(0,"div",2)(1,"app-area-card",3),p("areaSelectedEvent",function(e){C(t);let c=u();return y(c.setAreaSelected(e))}),i()()}if(n&2){let t=f.$implicit,r=u();l(),m("isAdmin",r.isAdmin)("areaItem",t)}}var Ce=(()=>{class n{areaSelectedEvent=new B;areas;isAdmin;setAreaSelected(t){this.areaSelectedEvent.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-area-cards"]],inputs:{areas:"areas",isAdmin:"isAdmin"},outputs:{areaSelectedEvent:"areaSelectedEvent"},standalone:!0,features:[S],decls:2,vars:1,consts:[[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3"],[3,"areaSelectedEvent","isAdmin","areaItem"]],template:function(r,e){r&1&&(a(0,"div",0),g(1,Oe,2,2,"div",1),i()),r&2&&(l(),m("ngForOf",e.areas))},dependencies:[ve,T],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function qe(n,f){if(n&1){let t=I();a(0,"img",18),p("click",function(){let e=C(t).$implicit,c=u();return y(c.selectIcon(e))}),i()}if(n&2){let t=f.$implicit,r=u();m("src",t,j)("ngClass",r.iconSelected==t?"selected":"")}}var ye=(()=>{class n{areas;_areaService=_(W);_alertService=_(P);formArea=new w({});iconSelected;iconsArea;ngOnInit(){return v(this,null,function*(){this.formArea=new w({name:new h("",[s.required,s.minLength(1),s.maxLength(100)]),about:new h("",[s.minLength(0),s.maxLength(500)])}),this.iconsArea=yield this._areaService.getIconsArea()})}selectIcon(t){this.iconSelected=t}sendArea(){return v(this,null,function*(){let t={keep:!1,text:"Error al agregar \xE1rea, favor de revisar",type:k.Danger};if(this.formArea.valid&&this.iconSelected&&this.areas){let{name:r,about:e}=this.formArea.value,c={name:r,about:e,src:this.iconSelected,categories:[]};(yield this._areaService.addArea(this.areas,c))&&(this.formArea.reset(),t={keep:!1,text:"\xC1rea agregada con \xE9xito",type:k.Success})}this._alertService.addAlert(t)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-area-add"]],inputs:{areas:"areas"},standalone:!0,features:[S],decls:25,vars:2,consts:[["id","modalAddArea","tabindex","-1","aria-labelledby","modalAddAreaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalAddAreaLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del \xC1rea",1,"form-control"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","\xC1rea encargada de...","rows","5",1,"form-control"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Agregar \xC1rea"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.sendArea()}),a(8,"div",7)(9,"label",8),o(10,"Nombre del \xC1rea"),i(),d(11,"input",9),i(),a(12,"div",7)(13,"label",10),o(14,"Informaci\xF3n sobre el \xC1rea"),i(),d(15,"textarea",11),i(),a(16,"div",7)(17,"div",7)(18,"label",12),o(19,"Imagen de Perfil del \xC1rea"),i(),a(20,"div",13),g(21,qe,1,2,"img",14),i()()()(),a(22,"div",15)(23,"button",16),p("click",function(){return e.sendArea()}),d(24,"img",17),i()()()()()),r&2&&(l(7),m("formGroup",e.formArea),l(14),m("ngForOf",e.iconsArea))},dependencies:[G,q,L,V,O,U,R,T,K],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Ue(n,f){if(n&1){let t=I();a(0,"img",24),p("click",function(){let e=C(t).$implicit,c=u(2);return y(c.selectIcon(e))}),i()}if(n&2){let t=f.$implicit,r=u(2);m("src",t,j)("ngClass",r.iconSelected==t?"selected":"")}}function Re(n,f){if(n&1&&(a(0,"div",7)(1,"label",21),o(2,"Imagen de Perfil del \xC1rea"),i(),a(3,"div",22),g(4,Ue,1,2,"img",23),i()()),n&2){let t=u();l(4),m("ngForOf",t.iconsArea)}}var be=(()=>{class n{formArea=new w({});editIcon=!1;iconSelected;iconsArea;areas;area;_areaService=_(W);_alertService=_(P);_waitingModalService=_(F);ngOnChanges(t){if(t.area&&this.area){let{name:r,about:e}=this.formArea.controls;r.setValue(this.area.name),e.setValue(this.area.about)}}ngOnInit(){this.formArea=new w({name:new h("",[s.required,s.minLength(1),s.maxLength(100)]),about:new h("",[s.minLength(0),s.maxLength(500)])}),this.iconsArea=this._areaService.getIconsArea()}changeEditIcon(){this.editIcon=!this.editIcon}selectIcon(t){this.iconSelected=t}updateArea(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al modificar \xE1rea, favor de revisar",type:k.Danger};if(this.area){let{name:r,about:e}=this.formArea.value;r&&(this.area.name=r),e&&(this.area.about=e),this.editIcon&&this.iconSelected&&(this.area.src=this.iconSelected),(yield this._areaService.updateArea(this.area))&&(t={keep:!1,text:"\xC1rea modificada con \xE9xito",type:k.Success})}this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}deleteArea(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al eliminar \xC1rea, favor de revisar",type:k.Danger};this.areas&&this.area?._id&&(yield this._areaService.deleteArea(this.areas,this.area._id))&&(t={keep:!1,text:"\xC1rea eliminada con \xE9xito",type:k.Success}),this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-area-edit"]],inputs:{areas:"areas",area:"area"},standalone:!0,features:[fe,S],decls:27,vars:4,consts:[["id","modalUpdateArea","tabindex","-1","aria-labelledby","modalUpdateAreaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalUpdateAreaLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del \xC1rea",1,"form-control",3,"value"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","\xC1rea encargada de...","rows","5",1,"form-control",3,"value"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","editIcon",1,"form-check-input",3,"click"],["for","editIcon",1,"form-check-label"],["class","mb-3",4,"ngIf"],[1,"modal-footer","justify-content-between"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-dismiss","modal","type","submit","title","Editar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Editar \xC1rea"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.updateArea()}),a(8,"div",7)(9,"label",8),o(10,"Nombre del \xC1rea"),i(),d(11,"input",9),i(),a(12,"div",7)(13,"label",10),o(14,"Informaci\xF3n sobre el \xC1rea"),i(),d(15,"textarea",11),i(),a(16,"div",7)(17,"div",12)(18,"input",13),p("click",function(){return e.changeEditIcon()}),i(),a(19,"label",14),o(20,"\xBFCambiar imagen de perfil del \xE1rea?"),i()()(),g(21,Re,5,1,"div",15),i(),a(22,"div",16)(23,"button",17),p("click",function(){return e.deleteArea()}),d(24,"img",18),i(),a(25,"button",19),p("click",function(){return e.updateArea()}),d(26,"img",20),i()()()()()),r&2&&(l(7),m("formGroup",e.formArea),l(4),m("value",e.area==null?null:e.area.name),l(4),m("value",e.area==null?null:e.area.about),l(6),m("ngIf",e.editIcon))},dependencies:[G,q,L,V,O,U,R,x,T,K],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Ge(n,f){if(n&1&&(a(0,"div",7)(1,"label",11),o(2,"Informaci\xF3n sobre el \xC1rea"),i(),a(3,"p",12),o(4),i()()),n&2){let t=u();l(4),Y(" ",t.area==null?null:t.area.about," ")}}var Se=(()=>{class n{area;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-area-show"]],inputs:{area:"area"},standalone:!0,features:[S],decls:14,vars:2,consts:[["id","modalShowArea","tabindex","-1","aria-labelledby","modalShowAreaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalShowAreaLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"fw-bold"],["id","name"],["class","mb-3",4,"ngIf"],["for","about",1,"form-label","fw-bold"],["id","about"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Informaci\xF3n del \xC1rea"),i(),d(6,"button",5),i(),a(7,"div",6)(8,"div",7)(9,"label",8),o(10,"Nombre del \xC1rea"),i(),a(11,"p",9),o(12),i()(),g(13,Ge,5,1,"div",10),i()()()()),r&2&&(l(12),Y(" ",e.area==null?null:e.area.name," "),l(),m("ngIf",e.area==null?null:e.area.about))},dependencies:[x]})}return n})();function Be(n,f){n&1&&(a(0,"button",10),d(1,"img",11),i())}var Ee=(()=>{class n{areaSelected;areas;_areaService=_(W);_sessionService=_(D);_waitingModalService=_(F);ngOnInit(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0),this.areas=yield this._areaService.getAreas(),this._waitingModalService.setIsWaiting(!1)})}setAreaSelected(t){this.areaSelected=t}isAdmin(){return this._sessionService.isAdmin()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-areas-page"]],standalone:!0,features:[S],decls:14,vars:8,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"title","fw-bold"],[1,"row"],["data-bs-toggle","modal","data-bs-target","#modalAddArea","class","btn mt-4 mb-2",4,"ngIf"],[3,"areaSelectedEvent","isAdmin","areas"],[3,"areas"],[3,"area"],[3,"area","areas"],["data-bs-toggle","modal","data-bs-target","#modalAddArea",1,"btn","mt-4","mb-2"],["src","assets/icons/add.svg","alt","Agregar \xC1rea","title","Agregar \xC1rea",1,"icon"]],template:function(r,e){r&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),o(4,"\xC1reas"),i()()(),a(5,"div",1)(6,"div",4)(7,"div",1),g(8,Be,2,0,"button",5),i(),a(9,"div",1)(10,"app-area-cards",6),p("areaSelectedEvent",function(E){return e.setAreaSelected(E)}),i()()()()(),d(11,"app-area-add",7)(12,"app-area-show",8)(13,"app-area-edit",9)),r&2&&(l(8),m("ngIf",e.isAdmin()),l(2),m("isAdmin",e.isAdmin())("areas",e.areas),l(),m("areas",e.areas)("areas",e.areas),l(),m("area",e.areaSelected),l(),m("area",e.areaSelected)("areas",e.areas))},dependencies:[Ce,ye,Se,be,x],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function je(n,f){n&1&&(a(0,"button",11),d(1,"img",12),i())}var xe=(()=>{class n{categorySelectedEvent=new B;area;category;link=["/","home","inventory","items"];_sessionService=_(D);_router=_(re);isAdmin(){return this._sessionService.isAdmin()}setCategorySelected(t){t&&this.categorySelectedEvent.emit(t)}navigate(){this.area&&this.category&&this._router.navigate([...this.link,this.area._id,this.category._id])}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-category-card"]],inputs:{area:"area",category:"category"},outputs:{categorySelectedEvent:"categorySelectedEvent"},standalone:!0,features:[S],decls:12,vars:3,consts:[[1,"card","border-dark","mt-3"],[1,"card-header","h6","text-center"],[1,"card-body"],["alt","",1,"img-fluid",3,"src"],[1,"card-footer"],[1,"d-flex","justify-content-between",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalShowCategory","type","button","title","Informaci\xF3n",1,"btn"],["src","assets/icons/information.svg","alt","Informaci\xF3n",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalEditCategory","type","button","class","btn","title","Modificar",4,"ngIf"],["type","button","title","Ingresar",1,"btn",3,"click"],["src","assets/icons/show.svg","alt","Ingresar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalEditCategory","type","button","title","Modificar",1,"btn"],["src","assets/icons/edit.svg","alt","Editar",1,"icon"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"p",1),o(2),i(),a(3,"div",2),d(4,"img",3),i(),a(5,"div",4)(6,"div",5),p("click",function(){return e.setCategorySelected(e.category)}),a(7,"button",6),d(8,"img",7),i(),g(9,je,2,0,"button",8),a(10,"button",9),p("click",function(){return e.navigate()}),d(11,"img",10),i()()()()),r&2&&(l(2),M(e.category==null?null:e.category.name),l(2),m("src",e.category==null?null:e.category.src,j),l(5),m("ngIf",e.isAdmin()))},dependencies:[x],styles:[".icon[_ngcontent-%COMP%]{width:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function We(n,f){if(n&1){let t=I();a(0,"div",2)(1,"app-category-card",3),p("categorySelectedEvent",function(e){C(t);let c=u();return y(c.setCategorySelected(e))}),i()()}if(n&2){let t=f.$implicit,r=u();l(),m("area",r.area)("category",t)}}var ke=(()=>{class n{categorySelectedEvent=new B;area;categories;setCategorySelected(t){this.categorySelectedEvent.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-category-cards"]],inputs:{area:"area",categories:"categories"},outputs:{categorySelectedEvent:"categorySelectedEvent"},standalone:!0,features:[S],decls:2,vars:1,consts:[[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3"],[3,"categorySelectedEvent","area","category"]],template:function(r,e){r&1&&(a(0,"div",0),g(1,We,2,2,"div",1),i()),r&2&&(l(),m("ngForOf",e.categories))},dependencies:[xe,T]})}return n})();var ie=(()=>{class n{apiUrl=`${J.url}/api/inventory/category`;http=_(Z);showError(t,r){J.showErrors&&(console.log("Error en el archivo: category.service.ts"),console.log(t,`
	`,r))}getIconsCategory(){return["assets/inventory/category/inventory.svg","assets/inventory/category/equipment.svg","assets/inventory/category/acid.svg","assets/inventory/category/base.svg","assets/inventory/category/radioactive.svg"]}getCategory(t){return v(this,null,function*(){try{let r=yield this.http.get(this.apiUrl+"/"+t).toPromise();if(r){let{message:e,category:c}=r;if(c)return c;this.showError("Error al obtener la categor\xEDa:",e)}}catch(r){this.showError("Error al realizar la solicitud:",r)}})}deleteCategory(t,r){return v(this,null,function*(){try{let e=yield this.http.delete(this.apiUrl+"/"+r).toPromise();if(e){let{message:c,category:E}=e;if(E){let N=t.findIndex(z=>z._id===r);return N!==-1&&t.splice(N,1),E}this.showError("Error al eliminar la categor\xEDa:",c)}}catch(e){this.showError("Error al realizar la solicitud:",e)}})}addCategory(t,r,e){return v(this,null,function*(){try{let c=yield $(this.http.post(this.apiUrl,{area_id:t,category:e}));if(c){let{category:E}=c;if(E)return r.push(E),E;this.showError("Error al crear categor\xEDa:",c.message)}}catch(c){this.showError("Error al realizar la solicitud:",c)}})}updateCategory(t){return v(this,null,function*(){try{let r=yield $(this.http.put(this.apiUrl+"/"+t._id,{category:t}));if(r){let{message:e,category:c}=r;if(c)return c;this.showError("Error al editar categor\xEDa:",e)}}catch(r){this.showError("Error al realizar la solicitud:",r)}})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ze(n,f){if(n&1){let t=I();a(0,"img",18),p("click",function(){let e=C(t).$implicit,c=u();return y(c.selectIcon(e))}),i()}if(n&2){let t=f.$implicit,r=u();m("src",t,j)("ngClass",r.iconSelected==t?"selected":"")}}var Ie=(()=>{class n{area;iconSelected;iconsCategories;formCategory=new w({});_categoryService=_(ie);_alertService=_(P);_waitingModalService=_(F);ngOnInit(){this.formCategory=new w({name:new h("",[s.required,s.minLength(1),s.maxLength(100)]),about:new h("",[s.minLength(0),s.maxLength(500)])}),this.iconsCategories=this._categoryService.getIconsCategory()}selectIcon(t){this.iconSelected=t}sendCategory(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al agregar Categor\xEDa, favor de revisar",type:k.Danger};if(this.formCategory.valid&&this.iconSelected&&this.area&&this.area._id&&this.iconSelected){let{name:r,about:e}=this.formCategory.value,c={name:r,about:e,src:this.iconSelected,items:[]};(yield this._categoryService.addCategory(this.area._id,this.area.categories,c))&&(this.formCategory.reset(),t={keep:!1,text:"Categor\xEDa agregada con \xE9xito",type:k.Success})}this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-category-add"]],inputs:{area:"area"},standalone:!0,features:[S],decls:25,vars:2,consts:[["id","modalAddCategory","tabindex","-1","aria-labelledby","modalAddCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalAddCategoryLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre de la Categor\xEDa",1,"form-control"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","Categor\xEDa encargada de...","rows","5",1,"form-control"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Agregar Categor\xEDa"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.sendCategory()}),a(8,"div",7)(9,"label",8),o(10,"Nombre de la Categor\xEDa"),i(),d(11,"input",9),i(),a(12,"div",7)(13,"label",10),o(14,"Informaci\xF3n sobre la Categor\xEDa"),i(),d(15,"textarea",11),i(),a(16,"div",7)(17,"div",7)(18,"label",12),o(19,"Imagen de Perfil de la Categor\xEDa"),i(),a(20,"div",13),g(21,ze,1,2,"img",14),i()()()(),a(22,"div",15)(23,"button",16),p("click",function(){return e.sendCategory()}),d(24,"img",17),i()()()()()),r&2&&(l(7),m("formGroup",e.formCategory),l(14),m("ngForOf",e.iconsCategories))},dependencies:[G,q,L,V,O,U,R,T,K],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function $e(n,f){if(n&1){let t=I();a(0,"img",24),p("click",function(){let e=C(t).$implicit,c=u(2);return y(c.selectIcon(e))}),i()}if(n&2){let t=f.$implicit,r=u(2);m("src",t,j)("ngClass",r.iconSelected==t?"selected":"")}}function Qe(n,f){if(n&1&&(a(0,"div",7)(1,"label",21),o(2,"Imagen de Perfil de la Categor\xEDa"),i(),a(3,"div",22),g(4,$e,1,2,"img",23),i()()),n&2){let t=u();l(4),m("ngForOf",t.iconsCategories)}}var we=(()=>{class n{formCategory=new w({});editIcon=!1;iconSelected;iconsCategories;area;category;_categoryService=_(ie);_alertService=_(P);_waitingModalService=_(F);ngOnInit(){this.formCategory=new w({name:new h("",[s.required,s.minLength(1),s.maxLength(100)]),about:new h("",[s.minLength(0),s.maxLength(500)])}),this.iconsCategories=this._categoryService.getIconsCategory()}changeEditIcon(){this.editIcon=!this.editIcon}selectIcon(t){this.iconSelected=t}updateCategory(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al modificar la Categor\xEDa, favor de revisar",type:k.Danger};if(this.category){let{name:r,about:e}=this.formCategory.value;r&&(this.category.name=r),e&&(this.category.about=e),this.editIcon&&this.iconSelected&&(this.category.src=this.iconSelected),(yield this._categoryService.updateCategory(this.category))&&(t={keep:!1,text:"Categor\xEDa modificada con \xE9xito",type:k.Success})}this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}deleteCategory(){return v(this,null,function*(){let t={keep:!1,text:"Error al eliminar Categor\xEDa, favor de revisar",type:k.Danger};this.area&&this.category?._id&&(yield this._categoryService.deleteCategory(this.area.categories,this.category._id))&&(t={keep:!1,text:"Categor\xEDa eliminada con \xE9xito",type:k.Success}),this._alertService.addAlert(t)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-category-edit"]],inputs:{area:"area",category:"category"},standalone:!0,features:[S],decls:27,vars:4,consts:[["id","modalEditCategory","tabindex","-1","aria-labelledby","modalEditCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalEditCategoryLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del \xC1rea",1,"form-control",3,"value"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","\xC1rea encargada de...","rows","5",1,"form-control",3,"value"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","editIcon",1,"form-check-input",3,"click"],["for","editIcon",1,"form-check-label"],["class","mb-3",4,"ngIf"],[1,"modal-footer","justify-content-between"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-dismiss","modal","type","submit","title","Editar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["for","profileImage",1,"form-label"],[1,"d-flex","flex-wrap","justify-content-around"],["class","img img-thumbnail p-2 m-2","alt","",3,"src","ngClass","click",4,"ngFor","ngForOf"],["alt","",1,"img","img-thumbnail","p-2","m-2",3,"click","src","ngClass"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Editar Categor\xEDa"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.updateCategory()}),a(8,"div",7)(9,"label",8),o(10,"Nombre del \xC1rea"),i(),d(11,"input",9),i(),a(12,"div",7)(13,"label",10),o(14,"Informaci\xF3n sobre la Categor\xEDa"),i(),d(15,"textarea",11),i(),a(16,"div",7)(17,"div",12)(18,"input",13),p("click",function(){return e.changeEditIcon()}),i(),a(19,"label",14),o(20,"\xBFCambiar imagen de perfil de la categor\xEDa?"),i()()(),g(21,Qe,5,1,"div",15),i(),a(22,"div",16)(23,"button",17),p("click",function(){return e.deleteCategory()}),d(24,"img",18),i(),a(25,"button",19),p("click",function(){return e.updateCategory()}),d(26,"img",20),i()()()()()),r&2&&(l(7),m("formGroup",e.formCategory),l(4),m("value",e.category==null?null:e.category.name),l(4),m("value",e.category==null?null:e.category.about),l(6),m("ngIf",e.editIcon))},dependencies:[G,q,L,V,O,U,R,x,T,K],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function He(n,f){if(n&1&&(a(0,"div",7)(1,"label",11),o(2,"Informaci\xF3n sobre el \xC1rea:"),i(),a(3,"p",12),o(4),i()()),n&2){let t=u();l(4),Y(" ",t.category==null?null:t.category.about," ")}}var Ae=(()=>{class n{category;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-category-show"]],inputs:{category:"category"},standalone:!0,features:[S],decls:14,vars:2,consts:[["id","modalShowCategory","tabindex","-1","aria-labelledby","modalShowCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalShowCategoryLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"fw-bold"],["id","name"],["class","mb-3",4,"ngIf"],["for","about",1,"form-label","fw-bold"],["id","about"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Informaci\xF3n de la Categor\xEDa"),i(),d(6,"button",5),i(),a(7,"div",6)(8,"div",7)(9,"label",8),o(10,"Nombre de la Categor\xEDa:"),i(),a(11,"p",9),o(12),i()(),g(13,He,5,1,"div",10),i()()()()),r&2&&(l(12),Y(" ",e.category==null?null:e.category.name," "),l(),m("ngIf",e.category==null?null:e.category.about))},dependencies:[x]})}return n})();function Je(n,f){n&1&&(a(0,"button",11),d(1,"img",12),i())}function Ke(n,f){if(n&1&&d(0,"app-category-add",13),n&2){let t=u();m("area",t.area)}}function Xe(n,f){if(n&1&&d(0,"app-category-edit",14),n&2){let t=u();m("area",t.area)("category",t.categorySelected)}}var Fe=(()=>{class n{area;categorySelected;categories;_sessionService=_(D);_activatedRoute=_(ne);_areasService=_(W);_waitingModalService=_(F);isAdmin(){return this._sessionService.isAdmin()}ngOnInit(){this._activatedRoute.paramMap.subscribe(t=>v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let r=""+t.get("area_id");this.area=yield this._areasService.getArea(r),this.categories=this.area?.categories,this._waitingModalService.setIsWaiting(!1)}))}setCategorySelected(t){this.categorySelected=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-categories-page"]],standalone:!0,features:[S],decls:16,vars:7,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"h4","fw-bold"],[1,"title","fw-bold"],[1,"row"],["data-bs-toggle","modal","data-bs-target","#modalAddCategory","class","btn mt-4 mb-2",4,"ngIf"],[3,"categorySelectedEvent","area","categories"],[3,"area",4,"ngIf"],[3,"area","category",4,"ngIf"],[3,"category"],["data-bs-toggle","modal","data-bs-target","#modalAddCategory",1,"btn","mt-4","mb-2"],["src","assets/icons/add.svg","alt","Agregar Categor\xEDa","title","Agregar Categor\xEDa",1,"icon"],[3,"area"],[3,"area","category"]],template:function(r,e){r&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),o(4),i(),a(5,"p",4),o(6,"Categor\xEDas"),i()()(),a(7,"div",1)(8,"div",5)(9,"div",1),g(10,Je,2,0,"button",6),i(),a(11,"div",1)(12,"app-category-cards",7),p("categorySelectedEvent",function(E){return e.setCategorySelected(E)}),i()()()()(),g(13,Ke,1,1,"app-category-add",8)(14,Xe,1,2,"app-category-edit",9),d(15,"app-category-show",10)),r&2&&(l(4),M(e.area==null?null:e.area.name),l(6),m("ngIf",e.isAdmin()),l(2),m("area",e.area)("categories",e.categories),l(),m("ngIf",e.isAdmin()),l(),m("ngIf",e.isAdmin()),l(),m("category",e.categorySelected))},dependencies:[ke,Ie,we,Ae,x],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function Ye(n,f){n&1&&(a(0,"button",11),d(1,"img",12),i())}function Ze(n,f){n&1&&(a(0,"button",13),d(1,"img",14),i())}var Me=(()=>{class n{itemSelectedEvent=new B;item;_sessionService=_(D);isAdmin(){return this._sessionService.isAdmin()}isGuest(){return this._sessionService.isGuest()}setItemSelected(t){t&&this.itemSelectedEvent.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-item-card"]],inputs:{item:"item"},outputs:{itemSelectedEvent:"itemSelectedEvent"},standalone:!0,features:[S],decls:13,vars:4,consts:[[1,"card","border-dark","mt-3"],[1,"card-header","h6","text-center"],[1,"card-body"],[1,"row","justify-content-center"],["type","button",1,"col-10","col-md-6","col-lg-4","btn","btn-dark","fw-bold"],[1,"card-footer"],[1,"d-flex","justify-content-between",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalShow","type","button","title","Informaci\xF3n",1,"btn"],["src","assets/icons/information.svg","alt","Informaci\xF3n",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalEdit","type","button","class","btn","title","Modificar",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#modalRequest","type","button","class","btn","title","Solicitar",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#modalEdit","type","button","title","Modificar",1,"btn"],["src","assets/icons/edit.svg","alt","Editar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalRequest","type","button","title","Solicitar",1,"btn"],["src","assets/icons/show.svg","alt","Solicitar",1,"icon"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"p",1),o(2),i(),a(3,"div",2)(4,"div",3)(5,"button",4),o(6),i()()(),a(7,"div",5)(8,"div",6),p("click",function(){return e.setItemSelected(e.item)}),a(9,"button",7),d(10,"img",8),i(),g(11,Ye,2,0,"button",9)(12,Ze,2,0,"button",10),i()()()),r&2&&(l(2),M(e.item==null?null:e.item.name),l(4),M(e.item!=null&&e.item.brand?e.item==null?null:e.item.brand:e.item==null?null:e.item.model),l(5),m("ngIf",e.isAdmin()),l(),m("ngIf",!e.isGuest()))},dependencies:[x],styles:[".icon[_ngcontent-%COMP%]{width:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();function et(n,f){n&1&&(a(0,"button",3),d(1,"img",4),i())}function tt(n,f){if(n&1){let t=I();a(0,"div",5)(1,"app-item-card",6),p("itemSelectedEvent",function(e){C(t);let c=u();return y(c.setItemSelected(e))}),i()()}if(n&2){let t=f.$implicit;l(),m("item",t)}}var Ne=(()=>{class n{itemSelectedEvent=new B;area;category;items;_sessionService=_(D);isAdmin(){return this._sessionService.isAdmin()}setItemSelected(t){this.itemSelectedEvent.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-item-cards"]],inputs:{area:"area",category:"category",items:"items"},outputs:{itemSelectedEvent:"itemSelectedEvent"},standalone:!0,features:[S],decls:3,vars:2,consts:[["data-bs-toggle","modal","data-bs-target","#modalAdd","class","btn mt-4 mb-2",4,"ngIf"],[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#modalAdd",1,"btn","mt-4","mb-2"],["src","assets/icons/add.svg","alt","Agregar Item","title","Agregar Item",1,"icon"],[1,"col-6","col-md-4","col-lg-3"],[3,"itemSelectedEvent","item"]],template:function(r,e){r&1&&(g(0,et,2,0,"button",0),a(1,"div",1),g(2,tt,2,1,"div",2),i()),r&2&&(m("ngIf",e.isAdmin()),l(2),m("ngForOf",e.items))},dependencies:[Me,T,x],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();var ae=(()=>{class n{apiUrl=`${J.url}/api/inventory/item`;http=_(Z);showError(t,r){J.showErrors&&(console.log("Error en el archivo: category.service.ts"),console.log(t,`
	`,r))}deleteItem(t,r){return v(this,null,function*(){try{let e=yield this.http.delete(this.apiUrl+"/"+r).toPromise();if(e){let{message:c,item:E}=e;if(E){let N=t.items.findIndex(z=>z._id===r);return N!==-1&&t.items.splice(N,1),E}this.showError("Error al eliminar el item:",c)}}catch(e){this.showError("Error al realizar la solicitud:",e)}})}addItem(t,r,e){return v(this,null,function*(){try{let c=yield $(this.http.post(this.apiUrl,{category_id:t,item:e}));if(c){let{item:E}=c;if(E)return r.push(E),E;this.showError("Error al crear item:",c.message)}}catch(c){this.showError("Error al realizar la solicitud:",c)}})}updateItem(t){return v(this,null,function*(){try{let r=yield $(this.http.put(this.apiUrl+"/"+t._id,{item:t}));if(r){let{message:e,item:c}=r;if(c)return c;this.showError("Error al editar item:",e)}}catch(r){this.showError("Error al realizar la solicitud:",r)}})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function it(n,f){n&1&&(a(0,"div",10)(1,"label",20),o(2,"Marca del item"),i(),d(3,"input",21),i())}function nt(n,f){n&1&&(a(0,"div",10)(1,"label",34),o(2,"Modelo del item"),i(),d(3,"input",35),i())}function rt(n,f){n&1&&(a(0,"div",10)(1,"label",36),o(2,"N\xFAmero de serie del item"),i(),d(3,"input",37),i())}function at(n,f){n&1&&(a(0,"div",10)(1,"label",38),o(2,"N\xFAmero de inventario del item"),i(),d(3,"input",39),i())}function ot(n,f){n&1&&(a(0,"div",10)(1,"label",40),o(2,"NUI del item"),i(),d(3,"input",41),i())}function lt(n,f){n&1&&(a(0,"div",10)(1,"label",42),o(2,"Ubicaci\xF3n del item"),i(),d(3,"input",43),i())}function mt(n,f){n&1&&(a(0,"div",10)(1,"label",44),o(2,"Encargado del item"),i(),d(3,"input",45),i())}function dt(n,f){if(n&1){let t=I();Q(0),a(1,"div",7)(2,"input",22),p("change",function(){C(t);let e=u();return y(e.isModelChecked=!e.isModelChecked)}),i(),a(3,"label",23),o(4,"\xBFAgregar modelo?"),i()(),g(5,nt,4,0,"div",15),a(6,"div",7)(7,"input",24),p("change",function(){C(t);let e=u();return y(e.isSerialChecked=!e.isSerialChecked)}),i(),a(8,"label",25),o(9,"\xBFAgregar n\xFAmero de serie?"),i()(),g(10,rt,4,0,"div",15),a(11,"div",7)(12,"input",26),p("change",function(){C(t);let e=u();return y(e.isInventoryChecked=!e.isInventoryChecked)}),i(),a(13,"label",27),o(14,"\xBFAgregar n\xFAmero de inventario?"),i()(),g(15,at,4,0,"div",15),a(16,"div",7)(17,"input",28),p("change",function(){C(t);let e=u();return y(e.isNUIChecked=!e.isNUIChecked)}),i(),a(18,"label",29),o(19,"\xBFAgregar NUI de item?"),i()(),g(20,ot,4,0,"div",15),a(21,"div",7)(22,"input",30),p("change",function(){C(t);let e=u();return y(e.isLocationChecked=!e.isLocationChecked)}),i(),a(23,"label",31),o(24,"\xBFAgregar ubicaci\xF3n de item?"),i()(),g(25,lt,4,0,"div",15),a(26,"div",7)(27,"input",32),p("change",function(){C(t);let e=u();return y(e.isManagerChecked=!e.isManagerChecked)}),i(),a(28,"label",33),o(29,"\xBFAgregar encargado de item?"),i()(),g(30,mt,4,0,"div",15),H()}if(n&2){let t=u();l(5),m("ngIf",t.isModelChecked),l(5),m("ngIf",t.isSerialChecked),l(5),m("ngIf",t.isInventoryChecked),l(5),m("ngIf",t.isNUIChecked),l(5),m("ngIf",t.isLocationChecked),l(5),m("ngIf",t.isManagerChecked)}}function ct(n,f){n&1&&(a(0,"div",10)(1,"label",58),o(2,"Stock del item"),i(),d(3,"input",59),i())}function st(n,f){n&1&&(a(0,"div",10)(1,"label",60),o(2,"Formula del item"),i(),d(3,"input",61),i())}function pt(n,f){n&1&&(a(0,"div",10)(1,"label",62),o(2,"Presentaci\xF3n del item"),i(),d(3,"input",63),i())}function ut(n,f){n&1&&(a(0,"div",10)(1,"label",64),o(2,"Lote del item"),i(),d(3,"input",65),i())}function gt(n,f){n&1&&(a(0,"div",10)(1,"label",66),o(2,"Fecha de caducidad item"),i(),d(3,"input",67),i())}function ft(n,f){n&1&&(a(0,"div",10)(1,"label",68),o(2,"Cantidad por unidad del item"),i(),d(3,"input",69),i())}function _t(n,f){if(n&1){let t=I();Q(0),a(1,"div",7)(2,"input",46),p("change",function(){C(t);let e=u();return y(e.isStockChecked=!e.isStockChecked)}),i(),a(3,"label",47),o(4,"\xBFAgregar stock?"),i()(),g(5,ct,4,0,"div",15),a(6,"div",7)(7,"input",48),p("change",function(){C(t);let e=u();return y(e.isFormulaChecked=!e.isFormulaChecked)}),i(),a(8,"label",49),o(9,"\xBFAgregar formula?"),i()(),g(10,st,4,0,"div",15),a(11,"div",7)(12,"input",50),p("change",function(){C(t);let e=u();return y(e.isPresentationChecked=!e.isPresentationChecked)}),i(),a(13,"label",51),o(14,"\xBFAgregar presentaci\xF3n?"),i()(),g(15,pt,4,0,"div",15),a(16,"div",7)(17,"input",52),p("change",function(){C(t);let e=u();return y(e.isLotChecked=!e.isLotChecked)}),i(),a(18,"label",53),o(19,"\xBFAgregar lote?"),i()(),g(20,ut,4,0,"div",15),a(21,"div",7)(22,"input",54),p("change",function(){C(t);let e=u();return y(e.isExpirationDateChecked=!e.isExpirationDateChecked)}),i(),a(23,"label",55),o(24,"\xBFAgregar fecha de caducidad?"),i()(),g(25,gt,4,0,"div",15),a(26,"div",7)(27,"input",56),p("change",function(){C(t);let e=u();return y(e.isQuantityChecked=!e.isQuantityChecked)}),i(),a(28,"label",57),o(29,"\xBFAgregar cantidad por unidad?"),i()(),g(30,ft,4,0,"div",15),H()}if(n&2){let t=u();l(5),m("ngIf",t.isStockChecked),l(5),m("ngIf",t.isFormulaChecked),l(5),m("ngIf",t.isPresentationChecked),l(5),m("ngIf",t.isLotChecked),l(5),m("ngIf",t.isExpirationDateChecked),l(5),m("ngIf",t.isQuantityChecked)}}var Te=(()=>{class n{category;formItem=new w({});isEquipment=!0;isBrandChecked=!1;isInventoryChecked=!1;isModelChecked=!1;isSerialChecked=!1;isNUIChecked=!1;isLocationChecked=!1;isManagerChecked=!1;isStockChecked=!1;isFormulaChecked=!1;isPresentationChecked=!1;isLotChecked=!1;isExpirationDateChecked=!1;isQuantityChecked=!1;_itemService=_(ae);_alertService=_(P);_waitingModalService=_(F);ngOnInit(){this.formItem=new w({name:new h("",[s.required,s.minLength(1),s.maxLength(100)]),brand:new h("",[s.minLength(1),s.maxLength(100)]),model:new h("",[s.minLength(1),s.maxLength(100)]),serial:new h("",[s.minLength(1),s.maxLength(100)]),inventory:new h("",[s.minLength(1),s.maxLength(100)]),nui:new h("",[s.minLength(1),s.maxLength(100)]),location:new h("",[s.minLength(1),s.maxLength(100)]),manager:new h("",[s.minLength(1),s.maxLength(100)]),stock:new h("",[s.min(1)]),formula:new h("",[s.minLength(1),s.maxLength(100)]),presentation:new h("",[s.minLength(1),s.maxLength(100)]),lot:new h("",[s.minLength(1),s.maxLength(100)]),expirationDate:new h("",[]),quantity:new h("",[s.min(0)])})}sendItem(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al agregar item, favor de revisar",type:k.Danger};if(this.formItem.valid&&this.category&&this.category._id){let{name:r,brand:e,model:c,serial:E,inventory:N,nui:z,location:oe,manager:le,stock:me,formula:de,presentation:ce,lot:se,expirationDate:pe,quantity:ue}=this.formItem.value,ge={name:r,type:this.isEquipment?1:2,brand:e,model:c,serial:E,inventory:N,nui:z,location:oe,manager:le,stock:me,formula:de,presentation:ce,lot:se,expirationDate:pe,quantity:ue};(yield this._itemService.addItem(this.category._id,this.category.items,ge))&&(this.formItem.reset(),t={keep:!1,text:"Item agregado con \xE9xito",type:k.Success})}this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-item-add"]],inputs:{category:"category"},standalone:!0,features:[S],decls:26,vars:4,consts:[["id","modalAdd","tabindex","-1","aria-labelledby","modalAddLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalAddLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","isEquipment","checked","",1,"form-check-input",3,"change"],["for","isEquipment",1,"form-check-label"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del item",1,"form-control"],["type","checkbox","role","switch","id","addbrand",1,"form-check-input",3,"change"],["for","addbrand",1,"form-check-label"],["class","mb-3",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],["for","brand"],["formControlName","brand","type","text","id","brand","placeholder","Marca del item",1,"form-control"],["type","checkbox","role","switch","id","addmodel",1,"form-check-input",3,"change"],["for","addmodel",1,"form-check-label"],["type","checkbox","role","switch","id","addserial",1,"form-check-input",3,"change"],["for","addserial",1,"form-check-label"],["type","checkbox","role","switch","id","addinventory",1,"form-check-input",3,"change"],["for","addinventory",1,"form-check-label"],["type","checkbox","role","switch","id","addnui",1,"form-check-input",3,"change"],["for","addnui",1,"form-check-label"],["type","checkbox","role","switch","id","addlocation",1,"form-check-input",3,"change"],["for","addlocation",1,"form-check-label"],["type","checkbox","role","switch","id","addmanager",1,"form-check-input",3,"change"],["for","addmanager",1,"form-check-label"],["for","model"],["formControlName","model","type","text","id","model","placeholder","Modelo del item",1,"form-control"],["for","serial"],["formControlName","serial","type","text","id","serial","placeholder","N\xFAmero de serie del item",1,"form-control"],["for","inventory"],["formControlName","inventory","type","text","id","inventory","placeholder","N\xFAmero de inventario del item",1,"form-control"],["for","nui"],["formControlName","nui","type","text","id","nui","placeholder","NUI del item",1,"form-control"],["for","location"],["formControlName","location","type","text","id","location","placeholder","Ubicaci\xF3n del item",1,"form-control"],["for","manager"],["formControlName","manager","type","text","id","manager","placeholder","Encargado del item",1,"form-control"],["type","checkbox","role","switch","id","addStock",1,"form-check-input",3,"change"],["for","addStock",1,"form-check-label"],["type","checkbox","role","switch","id","addFormula",1,"form-check-input",3,"change"],["for","addFormula",1,"form-check-label"],["type","checkbox","role","switch","id","addPresentation",1,"form-check-input",3,"change"],["for","addPresentation",1,"form-check-label"],["type","checkbox","role","switch","id","addLot",1,"form-check-input",3,"change"],["for","addLot",1,"form-check-label"],["type","checkbox","role","switch","id","addExpirationDate",1,"form-check-input",3,"change"],["for","addExpirationDate",1,"form-check-label"],["type","checkbox","role","switch","id","addQuantity",1,"form-check-input",3,"change"],["for","addQuantity",1,"form-check-label"],["for","stock"],["formControlName","stock","type","number","step","1","id","stock","placeholder","Stock del item",1,"form-control"],["for","formula"],["formControlName","formula","type","text","id","formula","placeholder","Formula del item",1,"form-control"],["for","presentation"],["formControlName","presentation","type","text","id","presentation","placeholder","Presentaci\xF3n del item",1,"form-control"],["for","lot"],["formControlName","lot","type","text","id","lot","placeholder","Lote del item",1,"form-control"],["for","expirationDate"],["formControlName","expirationDate","type","date","id","expirationDate","placeholder","Fecha de caducidad item",1,"form-control"],["for","quantity"],["formControlName","quantity","type","number","step","0.01","id","quantity","placeholder","Cantidad por unidad del item",1,"form-control"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Agregar Item"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.sendItem()}),a(8,"div",7)(9,"input",8),p("change",function(){return e.isEquipment=!e.isEquipment}),i(),a(10,"label",9),o(11,"\xBFEs un equipo?"),i()(),a(12,"div",10)(13,"label",11),o(14,"Nombre del item"),i(),d(15,"input",12),i(),a(16,"div",7)(17,"input",13),p("change",function(){return e.isBrandChecked=!e.isBrandChecked}),i(),a(18,"label",14),o(19,"\xBFAgregar marca?"),i()(),g(20,it,4,0,"div",15)(21,dt,31,6,"ng-container",16)(22,_t,31,6,"ng-container",16),i(),a(23,"div",17)(24,"button",18),p("click",function(){return e.sendItem()}),d(25,"img",19),i()()()()()),r&2&&(l(7),m("formGroup",e.formItem),l(13),m("ngIf",e.isBrandChecked),l(),m("ngIf",e.isEquipment),l(),m("ngIf",!e.isEquipment))},dependencies:[G,q,L,ee,V,O,U,R,x],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function ht(n,f){if(n&1&&(a(0,"div",7)(1,"label",22),o(2,"Marca del item"),i(),d(3,"input",23),i()),n&2){let t=u();l(3),m("value",t.item==null?null:t.item.brand)}}function vt(n,f){if(n&1&&(a(0,"div",7)(1,"label",34),o(2,"Modelo del item"),i(),d(3,"input",35),i()),n&2){let t=u(2);l(3),m("value",t.item==null?null:t.item.model)}}function Ct(n,f){if(n&1&&(a(0,"div",7)(1,"label",36),o(2,"N\xFAmero de serie del item"),i(),d(3,"input",37),i()),n&2){let t=u(2);l(3),m("value",t.item==null?null:t.item.serial)}}function yt(n,f){if(n&1&&(a(0,"div",7)(1,"label",38),o(2,"N\xFAmero de inventario del item"),i(),d(3,"input",39),i()),n&2){let t=u(2);l(3),m("value",t.item==null?null:t.item.inventory)}}function bt(n,f){if(n&1&&(a(0,"div",7)(1,"label",40),o(2,"NUI del item"),i(),d(3,"input",41),i()),n&2){let t=u(2);l(3),m("value",t.item==null?null:t.item.nui)}}function St(n,f){if(n&1&&(a(0,"div",7)(1,"label",42),o(2,"Ubicaci\xF3n del item"),i(),d(3,"input",43),i()),n&2){let t=u(2);l(3),m("value",t.item==null?null:t.item.location)}}function Et(n,f){if(n&1&&(a(0,"div",7)(1,"label",44),o(2,"Encargado del item"),i(),d(3,"input",45),i()),n&2){let t=u(2);l(3),m("value",t.item==null?null:t.item.manager)}}function xt(n,f){if(n&1){let t=I();Q(0),a(1,"div",10)(2,"input",24),p("change",function(){C(t);let e=u();return y(e.isModelChecked=!e.isModelChecked)}),i(),a(3,"label",25),o(4,"\xBFEditar modelo?"),i()(),g(5,vt,4,1,"div",13),a(6,"div",10)(7,"input",26),p("change",function(){C(t);let e=u();return y(e.isSerialChecked=!e.isSerialChecked)}),i(),a(8,"label",27),o(9,"\xBFEditar n\xFAmero de serie?"),i()(),g(10,Ct,4,1,"div",13)(11,yt,4,1,"div",13),a(12,"div",10)(13,"input",28),p("change",function(){C(t);let e=u();return y(e.isNUIChecked=!e.isNUIChecked)}),i(),a(14,"label",29),o(15,"\xBFEditar NUI de item?"),i()(),g(16,bt,4,1,"div",13),a(17,"div",10)(18,"input",30),p("change",function(){C(t);let e=u();return y(e.isLocationChecked=!e.isLocationChecked)}),i(),a(19,"label",31),o(20,"\xBFEditar ubicaci\xF3n de item?"),i()(),g(21,St,4,1,"div",13),a(22,"div",10)(23,"input",32),p("change",function(){C(t);let e=u();return y(e.isManagerChecked=!e.isManagerChecked)}),i(),a(24,"label",33),o(25,"\xBFEditar encargado de item?"),i()(),g(26,Et,4,1,"div",13),H()}if(n&2){let t=u();l(5),m("ngIf",t.isModelChecked),l(5),m("ngIf",t.isSerialChecked),l(),m("ngIf",t.isInventoryChecked),l(5),m("ngIf",t.isNUIChecked),l(5),m("ngIf",t.isLocationChecked),l(5),m("ngIf",t.isManagerChecked)}}function kt(n,f){n&1&&(a(0,"div",7)(1,"label",58),o(2,"Stock del item"),i(),d(3,"input",59),i())}function It(n,f){n&1&&(a(0,"div",7)(1,"label",60),o(2,"Formula del item"),i(),d(3,"input",61),i())}function wt(n,f){n&1&&(a(0,"div",7)(1,"label",62),o(2,"Presentaci\xF3n del item"),i(),d(3,"input",63),i())}function At(n,f){n&1&&(a(0,"div",7)(1,"label",64),o(2,"Lote del item"),i(),d(3,"input",65),i())}function Ft(n,f){n&1&&(a(0,"div",7)(1,"label",66),o(2,"Fecha de caducidad item"),i(),d(3,"input",67),i())}function Mt(n,f){n&1&&(a(0,"div",7)(1,"label",68),o(2,"Cantidad por unidad del item"),i(),d(3,"input",69),i())}function Nt(n,f){if(n&1){let t=I();Q(0),a(1,"div",10)(2,"input",46),p("change",function(){C(t);let e=u();return y(e.isStockChecked=!e.isStockChecked)}),i(),a(3,"label",47),o(4,"\xBFAgregar stock?"),i()(),g(5,kt,4,0,"div",13),a(6,"div",10)(7,"input",48),p("change",function(){C(t);let e=u();return y(e.isFormulaChecked=!e.isFormulaChecked)}),i(),a(8,"label",49),o(9,"\xBFAgregar formula?"),i()(),g(10,It,4,0,"div",13),a(11,"div",10)(12,"input",50),p("change",function(){C(t);let e=u();return y(e.isPresentationChecked=!e.isPresentationChecked)}),i(),a(13,"label",51),o(14,"\xBFAgregar presentaci\xF3n?"),i()(),g(15,wt,4,0,"div",13),a(16,"div",10)(17,"input",52),p("change",function(){C(t);let e=u();return y(e.isLotChecked=!e.isLotChecked)}),i(),a(18,"label",53),o(19,"\xBFAgregar lote?"),i()(),g(20,At,4,0,"div",13),a(21,"div",10)(22,"input",54),p("change",function(){C(t);let e=u();return y(e.isExpirationDateChecked=!e.isExpirationDateChecked)}),i(),a(23,"label",55),o(24,"\xBFAgregar fecha de caducidad?"),i()(),g(25,Ft,4,0,"div",13),a(26,"div",10)(27,"input",56),p("change",function(){C(t);let e=u();return y(e.isQuantityChecked=!e.isQuantityChecked)}),i(),a(28,"label",57),o(29,"\xBFAgregar cantidad por unidad?"),i()(),g(30,Mt,4,0,"div",13),H()}if(n&2){let t=u();l(5),m("ngIf",t.isStockChecked),l(5),m("ngIf",t.isFormulaChecked),l(5),m("ngIf",t.isPresentationChecked),l(5),m("ngIf",t.isLotChecked),l(5),m("ngIf",t.isExpirationDateChecked),l(5),m("ngIf",t.isQuantityChecked)}}var De=(()=>{class n{category;item;formItem=new w({});isBrandChecked=!1;isInventoryChecked=!1;isModelChecked=!1;isSerialChecked=!1;isNUIChecked=!1;isLocationChecked=!1;isManagerChecked=!1;isStockChecked=!1;isFormulaChecked=!1;isPresentationChecked=!1;isLotChecked=!1;isExpirationDateChecked=!1;isQuantityChecked=!1;_itemService=_(ae);_alertService=_(P);_waitingModalService=_(F);ngOnInit(){this.formItem=new w({name:new h("",[s.minLength(1),s.maxLength(100)]),brand:new h("",[s.minLength(1),s.maxLength(100)]),model:new h("",[s.minLength(1),s.maxLength(100)]),serial:new h("",[s.minLength(1),s.maxLength(100)]),inventory:new h("",[s.minLength(1),s.maxLength(100)]),nui:new h("",[s.minLength(1),s.maxLength(100)]),location:new h("",[s.minLength(1),s.maxLength(100)]),manager:new h("",[s.minLength(1),s.maxLength(100)]),stock:new h("",[s.min(1)]),formula:new h("",[s.minLength(1),s.maxLength(100)]),presentation:new h("",[s.minLength(1),s.maxLength(100)]),lot:new h("",[s.minLength(1),s.maxLength(100)]),expirationDate:new h("",[]),quantity:new h("",[s.min(0)])})}sendItem(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al agregar item, favor de revisar",type:k.Danger};if(this.formItem.valid&&this.category&&this.item&&this.item._id){let{name:r,brand:e,model:c,serial:E,inventory:N,nui:z,location:oe,manager:le,stock:me,formula:de,presentation:ce,lot:se,expirationDate:pe,quantity:ue}=this.formItem.value;if(r&&(this.item.name=r),this.isBrandChecked&&(this.item.brand=e),this.isModelChecked&&(this.item.model=c),this.isSerialChecked&&(this.item.serial=E),this.isInventoryChecked&&(this.item.inventory=N),this.isNUIChecked&&(this.item.nui=z),this.isLocationChecked&&(this.item.location=oe),this.isManagerChecked&&(this.item.manager=le),this.isStockChecked&&(this.item.stock=me),this.isFormulaChecked&&(this.item.formula=de),this.isPresentationChecked&&(this.item.presentation=ce),this.isLotChecked&&(this.item.lot=se),this.isExpirationDateChecked&&(this.item.expirationDate=pe),this.isQuantityChecked&&(this.item.quantity=ue),yield this._itemService.updateItem(this.item)){this.formItem.reset();let{name:ge}=this.formItem.controls;ge.setValue(this.item.name),t={keep:!1,text:"Item modificado con \xE9xito",type:k.Success}}}this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}deleteItem(){return v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let t={keep:!1,text:"Error al eliminar item, favor de revisar",type:k.Danger};this.category&&this.item?._id&&(yield this._itemService.deleteItem(this.category,this.item._id))&&(t={keep:!1,text:"item eliminado con \xE9xito",type:k.Success}),this._alertService.addAlert(t),this._waitingModalService.setIsWaiting(!1)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-item-edit"]],inputs:{category:"category",item:"item"},standalone:!0,features:[S],decls:28,vars:5,consts:[["id","modalEdit","tabindex","-1","aria-labelledby","modalEditLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalEditLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Nombre del item",1,"form-control",3,"value"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","addbrand",1,"form-check-input",3,"change"],["for","addbrand",1,"form-check-label"],["class","mb-3",4,"ngIf"],["type","checkbox","role","switch","id","addinventory",1,"form-check-input",3,"change"],["for","addinventory",1,"form-check-label"],[4,"ngIf"],[1,"modal-footer","justify-content-between"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-dismiss","modal","title","Editar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["for","brand"],["formControlName","brand","type","text","id","brand","placeholder","Marca del item",1,"form-control",3,"value"],["type","checkbox","role","switch","id","addmodel",1,"form-check-input",3,"change"],["for","addmodel",1,"form-check-label"],["type","checkbox","role","switch","id","addserial",1,"form-check-input",3,"change"],["for","addserial",1,"form-check-label"],["type","checkbox","role","switch","id","addnui",1,"form-check-input",3,"change"],["for","addnui",1,"form-check-label"],["type","checkbox","role","switch","id","addlocation",1,"form-check-input",3,"change"],["for","addlocation",1,"form-check-label"],["type","checkbox","role","switch","id","addmanager",1,"form-check-input",3,"change"],["for","addmanager",1,"form-check-label"],["for","model"],["formControlName","model","type","text","id","model","placeholder","Modelo del item",1,"form-control",3,"value"],["for","serial"],["formControlName","serial","type","text","id","serial","placeholder","N\xFAmero de serie del item",1,"form-control",3,"value"],["for","inventory"],["formControlName","inventory","type","text","id","inventory","placeholder","N\xFAmero de inventario del item",1,"form-control",3,"value"],["for","nui"],["formControlName","nui","type","text","id","nui","placeholder","NUI del item",1,"form-control",3,"value"],["for","location"],["formControlName","location","type","text","id","location","placeholder","Ubicaci\xF3n del item",1,"form-control",3,"value"],["for","manager"],["formControlName","manager","type","text","id","manager","placeholder","Encargado del item",1,"form-control",3,"value"],["type","checkbox","role","switch","id","addStock",1,"form-check-input",3,"change"],["for","addStock",1,"form-check-label"],["type","checkbox","role","switch","id","addFormula",1,"form-check-input",3,"change"],["for","addFormula",1,"form-check-label"],["type","checkbox","role","switch","id","addPresentation",1,"form-check-input",3,"change"],["for","addPresentation",1,"form-check-label"],["type","checkbox","role","switch","id","addLot",1,"form-check-input",3,"change"],["for","addLot",1,"form-check-label"],["type","checkbox","role","switch","id","addExpirationDate",1,"form-check-input",3,"change"],["for","addExpirationDate",1,"form-check-label"],["type","checkbox","role","switch","id","addQuantity",1,"form-check-input",3,"change"],["for","addQuantity",1,"form-check-label"],["for","stock"],["formControlName","stock","type","number","step","1","id","stock","placeholder","Stock del item",1,"form-control"],["for","formula"],["formControlName","formula","type","text","id","formula","placeholder","Formula del item",1,"form-control"],["for","presentation"],["formControlName","presentation","type","text","id","presentation","placeholder","Presentaci\xF3n del item",1,"form-control"],["for","lot"],["formControlName","lot","type","text","id","lot","placeholder","Lote del item",1,"form-control"],["for","expirationDate"],["formControlName","expirationDate","type","date","id","expirationDate","placeholder","Fecha de caducidad item",1,"form-control"],["for","quantity"],["formControlName","quantity","type","number","step","0.01","id","quantity","placeholder","Cantidad por unidad del item",1,"form-control"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Editar item"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.sendItem()}),a(8,"div",7)(9,"label",8),o(10,"Nombre del item"),i(),d(11,"input",9),i(),a(12,"div",10)(13,"input",11),p("change",function(){return e.isBrandChecked=!e.isBrandChecked}),i(),a(14,"label",12),o(15,"\xBFEditar marca?"),i()(),g(16,ht,4,1,"div",13),a(17,"div",10)(18,"input",14),p("change",function(){return e.isInventoryChecked=!e.isInventoryChecked}),i(),a(19,"label",15),o(20,"\xBFEditar n\xFAmero de inventario?"),i()(),g(21,xt,27,6,"ng-container",16)(22,Nt,31,6,"ng-container",16),i(),a(23,"div",17)(24,"button",18),p("click",function(){return e.deleteItem()}),d(25,"img",19),i(),a(26,"button",20),p("click",function(){return e.sendItem()}),d(27,"img",21),i()()()()()),r&2&&(l(7),m("formGroup",e.formItem),l(4),m("value",e.item==null?null:e.item.name),l(5),m("ngIf",e.isBrandChecked),l(5),m("ngIf",(e.item==null?null:e.item.type)==1),l(),m("ngIf",(e.item==null?null:e.item.type)==2))},dependencies:[G,q,L,ee,V,O,U,R,x],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Tt(n,f){if(n&1){let t=I();a(0,"div",20)(1,"input",21),p("change",function(){C(t);let e=u();return y(e.isUserNameChecked=!e.isUserNameChecked)}),i(),a(2,"label",22),o(3,"\xBFAgregar Nombre?"),i()()}}function Dt(n,f){n&1&&(a(0,"div",9)(1,"label",23),o(2,"Nombre para la solicitud"),i(),d(3,"input",24),i())}function Pt(n,f){n&1&&(Q(0),a(1,"div",9)(2,"label",25),o(3,"Fecha de inicio de uso"),i(),d(4,"input",26),i(),a(5,"div",9)(6,"label",27),o(7,"Fecha de finalizaci\xF3n de uso"),i(),d(8,"input",28),i(),H())}function Lt(n,f){n&1&&(Q(0),a(1,"div",9)(2,"label",29),o(3,"Cantidad a solicitar"),i(),d(4,"input",30),i(),H())}var Pe=(()=>{class n{item;_requestService=_(_e);_alertService=_(P);_sessionService=_(D);formRequest=new w({});isUserNameChecked=!1;ngOnInit(){return v(this,null,function*(){this.formRequest=new w({username:new h("",[s.minLength(1),s.maxLength(255)]),name:new h("",[s.minLength(1),s.maxLength(255)]),about:new h("",[s.minLength(1),s.maxLength(255)]),startDate:new h("",[]),endDate:new h("",[this.dateRangeValidator]),quantity:new h("",[s.min(1)])})})}dateRangeValidator(t){let r=t.get("startDate")?.value,e=t.get("endDate")?.value;return!r||!e||e>r?null:{dateRangeInvalid:!0}}isAdmin(){return this._sessionService.isAdmin()}sendRequest(){return v(this,null,function*(){let t={keep:!1,text:"Error al solicitar, favor de revisar",type:k.Danger};if(this.formRequest.valid&&this.item&&this.item._id){let{username:r,about:e,startDate:c,endDate:E,quantity:N}=this.formRequest.value,z={author:r,about:e,startDate:c,endDate:E,quantity:N};(yield this._requestService.addRequest(z,this.item._id))&&(this.formRequest.reset(),t={keep:!1,text:"Item solicitado con \xE9xito",type:k.Success})}this._alertService.addAlert(t)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-item-request"]],inputs:{item:"item"},standalone:!0,features:[S],decls:29,vars:7,consts:[["id","modalRequest","tabindex","-1","aria-labelledby","modalRequestLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalRequestLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],["class","form-check form-switch",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["for","id"],["id","id",1,"h6"],["for","name"],["id","name",1,"h6"],["for","about",1,"form-label"],["formControlName","about","id","about","placeholder","Se solicita para ...","rows","5",1,"form-control"],[4,"ngIf"],[1,"modal-footer"],["data-bs-dismiss","modal","type","submit","title","Agregar",1,"btn",3,"click"],["src","assets/icons/ok.svg","alt","",1,"icon"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","addUserName",1,"form-check-input",3,"change"],["for","addUserName",1,"form-check-label"],["for","username"],["formControlName","username","type","text","id","username","placeholder","Usuario para la solicitud",1,"form-control"],["for","startDate",1,"form-label"],["formControlName","startDate","type","datetime-local","id","startDate","placeholder","Fecha de inicio de uso",1,"form-control"],["for","endDate",1,"form-label"],["formControlName","endDate","type","datetime-local","id","endDate","placeholder","Fecha de finalizaci\xF3n de uso",1,"form-control"],["for","quantity",1,"form-label"],["formControlName","quantity","type","number","id","quantity","step","1",1,"form-control"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Solicitar Equipo"),i(),d(6,"button",5),i(),a(7,"form",6),p("ngSubmit",function(){return e.sendRequest()}),g(8,Tt,4,0,"div",7)(9,Dt,4,0,"div",8),a(10,"div",9)(11,"label",10),o(12,"ID del Equipo"),i(),a(13,"p",11),o(14),i()(),a(15,"div",9)(16,"label",12),o(17,"Nombre del Equipo"),i(),a(18,"p",13),o(19),i()(),a(20,"div",9)(21,"label",14),o(22,"Informaci\xF3n sobre la solicitud"),i(),d(23,"textarea",15),i(),g(24,Pt,9,0,"ng-container",16)(25,Lt,5,0,"ng-container",16),i(),a(26,"div",17)(27,"button",18),p("click",function(){return e.sendRequest()}),d(28,"img",19),i()()()()()),r&2&&(l(7),m("formGroup",e.formRequest),l(),m("ngIf",e.isAdmin()),l(),m("ngIf",e.isUserNameChecked),l(5),M(e.item==null?null:e.item._id),l(5),M(e.item==null?null:e.item.name),l(5),m("ngIf",(e.item==null?null:e.item.type)==1),l(),m("ngIf",(e.item==null?null:e.item.type)==2))},dependencies:[G,q,L,ee,V,O,U,R,x],styles:[".img[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--background-color-3)}.img[_ngcontent-%COMP%]{width:4rem;cursor:pointer;border:none}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]})}return n})();function Vt(n,f){if(n&1&&d(0,"app-item-add",11),n&2){let t=u();m("category",t.category)}}function Ot(n,f){if(n&1&&d(0,"app-item-edit",12),n&2){let t=u();m("category",t.category)("item",t.itemSelected)}}function qt(n,f){if(n&1&&d(0,"app-item-request",9),n&2){let t=u();m("item",t.itemSelected)}}var Le=(()=>{class n{area;category;itemSelected;items;_sessionService=_(D);_activatedRoute=_(ne);_areasService=_(W);_categoriesService=_(ie);_waitingModalService=_(F);isAdmin(){return this._sessionService.isAdmin()}isGuest(){return this._sessionService.isGuest()}ngOnInit(){return v(this,null,function*(){this._activatedRoute.paramMap.subscribe(t=>v(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let r=""+t.get("area_id"),e=""+t.get("category_id");this.area=yield this._areasService.getArea(r),this.area&&(this.category=yield this._categoriesService.getCategory(e),this.category&&(this.items=this.category.items)),this._waitingModalService.setIsWaiting(!1)}))})}setItemSelected(t){this.itemSelected=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=b({type:n,selectors:[["app-items-page"]],standalone:!0,features:[S],decls:16,vars:9,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"h4","fw-bold"],[1,"title","fw-bold"],[1,"row"],[3,"itemSelectedEvent","area","category","items"],[3,"category",4,"ngIf"],[3,"category","item",4,"ngIf"],[3,"item"],[3,"item",4,"ngIf"],[3,"category"],[3,"category","item"]],template:function(r,e){r&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),o(4),i(),a(5,"p",3),o(6),i(),a(7,"p",4),o(8,"Inventario"),i()()(),a(9,"div",1)(10,"div",5)(11,"app-item-cards",6),p("itemSelectedEvent",function(E){return e.setItemSelected(E)}),i()()()(),g(12,Vt,1,1,"app-item-add",7)(13,Ot,1,2,"app-item-edit",8),d(14,"app-item-show",9),g(15,qt,1,1,"app-item-request",10)),r&2&&(l(4),M(e.area==null?null:e.area.name),l(2),M(e.category==null?null:e.category.name),l(5),m("area",e.area)("category",e.category)("items",e.items),l(),m("ngIf",e.isAdmin()),l(),m("ngIf",e.isAdmin()),l(),m("item",e.itemSelected),l(),m("ngIf",!e.isGuest()))},dependencies:[Ne,Te,x,De,he,Pe],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();var ba=[{path:"areas",component:Ee},{path:"categories/:area_id",component:Fe},{path:"items/:area_id/:category_id",component:Le},{path:"**",redirectTo:"areas"}];export{ba as routes};
