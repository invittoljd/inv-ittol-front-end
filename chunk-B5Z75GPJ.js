import{Da as u,Fa as l,Ha as i,Ia as o,Ja as y,N as _,Na as h,Oa as w,Pa as a,Qa as f,T as d,Ua as v,V as g,c,pa as x,pb as b,qb as k,sa as s,vb as P,zb as C}from"./chunk-7NZK5ZYQ.js";var I=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-import-page"]],standalone:!0,features:[v],decls:7,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"title","fw-bold"]],template:function(e,r){e&1&&(i(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),a(5,"Importar Datos"),o()()(),y(6,"div",2),o()())},styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();var M=(()=>{class n{apiUrl=`${C.url}/api/data/export`;http=d(P);showError(t,e){console.log("Error en el archivo: export.service.ts"),console.log(t,`
	`,C.showErrors?e:"")}getAreas(){return c(this,null,function*(){try{let t=yield this.http.get(this.apiUrl+"/areas").toPromise();if(t){let{areas:e,message:r}=t;if(e)return e;this.showError("Error al obtener \xE1reas:",r)}}catch(t){this.showError("Error al realizar la solicitud:",t)}return[]})}getCategories(t){return c(this,null,function*(){try{let e=yield this.http.get(this.apiUrl+"/categories/"+t).toPromise();if(e){let{categories:r,message:p}=e;if(r)return r;this.showError("Error al obtener categor\xEDas:",p)}}catch(e){this.showError("Error al realizar la solicitud:",e)}return[]})}getLinkFileEquipments(t){return c(this,null,function*(){try{let e=yield this.http.get(this.apiUrl+"/equipments/"+t).toPromise();if(e){let{link:r,message:p}=e;if(r)return r;this.showError("Error al obtener el archivo:",p)}}catch(e){this.showError("Error al realizar la solicitud:",e)}})}getLinkFileReagents(t){return c(this,null,function*(){try{let e=yield this.http.get(this.apiUrl+"/reagents/"+t).toPromise();if(e){let{link:r,message:p}=e;if(r)return r;this.showError("Error al obtener el archivo:",p)}}catch(e){this.showError("Error al realizar la solicitud:",e)}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F(n,m){if(n&1&&(i(0,"option",17),a(1),o()),n&2){let t=m.$implicit;l("value",t._id),s(),f(t.name)}}function q(n,m){if(n&1&&(i(0,"option",17),a(1),o()),n&2){let t=m.$implicit;l("value",t._id),s(),f(t.name)}}function D(n,m){if(n&1&&(i(0,"div",9)(1,"div",2)(2,"a",18),a(3,"Descargar Archivo"),o()()()),n&2){let t=w();s(2),l("href",t.link,x)}}var O=(()=>{class n{areas;categories;isEquipmentChecked=!0;link;_exportService=d(M);ngOnInit(){return c(this,null,function*(){this.getAreas()})}getAreas(){return c(this,null,function*(){this.areas=yield this._exportService.getAreas()})}onAreaChange(t){return c(this,null,function*(){let r=t.target.value;r!="-1"&&(this.categories=yield this._exportService.getCategories(r))})}onCategoryChange(t){return c(this,null,function*(){let r=t.target.value;r!="-1"&&(this.isEquipmentChecked?this.link=yield this._exportService.getLinkFileEquipments(r):this.link=yield this._exportService.getLinkFileReagents(r))})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-export-page"]],standalone:!0,features:[v],decls:29,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"custom-header","p-5","rounded","text-center","mt-3"],[1,"title","fw-bold"],[1,"col-12","mt-5"],[1,"form-check","form-switch","mb-3"],["type","checkbox","role","switch","id","isEquipment","checked","",1,"form-check-input",3,"change"],["for","isEquipment",1,"form-check-label","h6"],[1,"row","mb-3"],["for","area",1,"h5"],["id","area","aria-label","Seleccionar \xE1rea",1,"form-select",3,"change"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","category",1,"h5"],["id","category","aria-label","Seleccionar categor\xEDa",1,"form-select",3,"change"],["class","row mb-3",4,"ngIf"],[3,"value"],["download","equipments.xlsx",1,"btn","btn-success",3,"href"]],template:function(e,r){e&1&&(i(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),a(5,"Exportar Datos"),o()()(),i(6,"form",5)(7,"div",6)(8,"input",7),h("change",function(){return r.isEquipmentChecked=!r.isEquipmentChecked,r.getAreas()}),o(),i(9,"label",8),a(10),o()(),i(11,"div",9)(12,"div",2)(13,"label",10),a(14,"Seleccionar \xC1rea:"),o(),i(15,"select",11),h("change",function(E){return r.onAreaChange(E)}),i(16,"option",12),a(17,"Seleccionar \xC1rea"),o(),u(18,F,2,2,"option",13),o()()(),i(19,"div",9)(20,"div",2)(21,"label",14),a(22,"Seleccionar Categor\xEDa:"),o(),i(23,"select",15),h("change",function(E){return r.onCategoryChange(E)}),i(24,"option",12),a(25,"Seleccionar Categor\xEDa"),o(),u(26,q,2,2,"option",13),o()()()(),i(27,"div",5),u(28,D,4,1,"div",16),o()()()),e&2&&(s(10),f(r.isEquipmentChecked?"Equipos":"Reactivos"),s(6),l("value",-1),s(2),l("ngForOf",r.areas),s(6),l("value",-1),s(2),l("ngForOf",r.categories),s(2),l("ngIf",r.link))},dependencies:[b,k],styles:[".title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}.img[_ngcontent-%COMP%]:hover{background:#00000080}.img[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3)}"]})}return n})();var Q=[{path:"import",component:I},{path:"export",component:O},{path:"**",redirectTo:"import"}];export{Q as routes};
